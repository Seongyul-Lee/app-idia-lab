# ë°ì¼ë¦¬ì…€í”„ (DailySelf) â€” PRD

> ë²„ì „: 2.1
> ì‘ì„±ì¼: 2026-01-31
> ìµœì¢… ìˆ˜ì •: 2026-02-02 (4ë‹¨ê³„ 2ì°¨ ë¦¬ë·° Minor ë³´ì™„ + ì„¹ì…˜ 16 ì¶”ê°€)
> ìƒíƒœ: Draft

---

## 1. Executive Summary

ë°ì¼ë¦¬ì…€í”„ëŠ” **ë§¤ì¼ ì•„ì¹¨ 30ì´ˆ ì»¨ë””ì…˜ ì²´í¬ì¸(ì—ë„ˆì§€Â·ìˆ˜ë©´Â·ê¸°ë¶„)ì„ í†µí•´, ì˜¤ëŠ˜ì˜ ìƒíƒœì— ë§ê²Œ ë£¨í‹´ ë‚œì´ë„ë¥¼ ìë™ ì¡°ì ˆí•˜ëŠ” ì ì‘í˜• ì¼ì¼ í”Œë˜ë„ˆ**ë‹¤. í•œêµ­ ì§ì¥ì¸ 63%ê°€ ì•¼ê·¼ì„ ê²½í—˜í•˜ê³ , ë£¨í‹´ ì‹¤íŒ¨ìì˜ 48%ê°€ 6ê°œì›” ë‚´ ì´íƒˆí•˜ëŠ” í˜„ì‹¤ì—ì„œ, ê¸°ì¡´ ì•±ë“¤ì´ "ë§¤ì¼ ê°™ì€ ê³„íš"ì„ ê°•ìš”í•˜ëŠ” ê²ƒì´ ì‘ì‹¬ì‚¼ì¼ì˜ êµ¬ì¡°ì  ì›ì¸ì´ë‹¤. ë°ì¼ë¦¬ì…€í”„ëŠ” "ì»¨ë””ì…˜ ì¸ì‹ â†’ ë‚œì´ë„ ìë™ ì¡°ì ˆ"ì´ë¼ëŠ” ê²½ìŸì‚¬ 6ê°œ ëª¨ë‘ì— ì—†ëŠ” ì°¨ë³„ì ìœ¼ë¡œ, **ì‹¤íŒ¨í•˜ì§€ ì•ŠëŠ” ìœ ì—°í•œ ë£¨í‹´ êµ¬ì¡°**ë¥¼ ì œê³µí•œë‹¤. í”„ë¦¬ë¯¸ì—„ êµ¬ë…(ì›” 3,900ì›/ì—° 29,900ì›) ê¸°ë°˜ìœ¼ë¡œ, 1ë…„ì°¨ 5~10ë§Œ ì‚¬ìš©ìÂ·ë§¤ì¶œ 1~3ì–µ ì›ì„ ëª©í‘œë¡œ í•œë‹¤.

---

## 2. Problem Statement

### 2-1. í•µì‹¬ ë¬¸ì œ

í•œêµ­ MZì„¸ëŒ€ ì§ì¥ì¸/ëŒ€í•™ìƒì€ ìê¸°ê´€ë¦¬ë¥¼ ì›í•˜ì§€ë§Œ **ì‘ì‹¬ì‚¼ì¼ì„ ë°˜ë³µ**í•œë‹¤. ì´ ì‹¤íŒ¨ì˜ ì›ì¸ì€ ì˜ì§€ë ¥ì´ ì•„ë‹ˆë¼ **"ì»¨ë””ì…˜ì´ ì•ˆ ì¢‹ì€ ë‚ ì—ë„ ë™ì¼í•œ ëª©í‘œë¥¼ ê°•ìš”ë°›ëŠ” êµ¬ì¡°"**ì— ìˆë‹¤.

### 2-2. ë°ì´í„° ê·¼ê±° (ì‹œì¥ë¶„ì„ ì¸ìš©)

| ì§€í‘œ | ìˆ˜ì¹˜ | ì¶œì²˜ |
|------|------|------|
| ì§ì¥ì¸ ì•¼ê·¼ ê²½í—˜ë¥  | 63% | ì¡ì½”ë¦¬ì•„ ì„¤ë¬¸ |
| ìê¸°ê³„ë°œ ì‹¤íŒ¨ 1ìœ„ ì‚¬ìœ  | "ì •ì‹œí‡´ê·¼ ì–´ë ¤ì›€" (62.4%) | ì¡ì½”ë¦¬ì•„/ì¸í¬ë£¨íŠ¸ |
| ìê¸°ê³„ë°œ ì‹¤íŒ¨ 2ìœ„ ì‚¬ìœ  | "í”¼ê³¤" (56.6%) | ì¡ì½”ë¦¬ì•„/ì¸í¬ë£¨íŠ¸ |
| ì§ì¥ì¸ ë²ˆì•„ì›ƒ ê²½í—˜ë¥  | 69~93% | í•œêµ­ë¦¬ì„œì¹˜ |
| ìƒˆ ê³„íš 1ì£¼ì¼ ë‚´ ì‹¤íŒ¨ìœ¨ | 50% | ì— ë¸Œë ˆì¸ íŠ¸ë Œë“œëª¨ë‹ˆí„° |
| ìŠµê´€ ì•± 6ê°œì›” ë‚´ ì´íƒˆë¥  | 48% | ê¸€ë¡œë²Œ í‰ê·  |

### 2-3. ê¸°ì¡´ í•´ê²° ë°©ì‹ì˜ í•œê³„ (ê²½ìŸë¶„ì„ ì¸ìš©)

- **ë£¨í‹´ ì•±(ë£¨í‹°ë„ˆë¦¬Â·ë§ˆì´ë£¨í‹´)**: ê³ ì • ì‹œê°„/íƒ€ì´ë¨¸ ê¸°ë°˜. ì»¨ë””ì…˜ ì ì‘ ì—†ìŒ
- **ë™ê¸°ë¶€ì—¬ ì•±(ì±Œë¦°ì €ìŠ¤)**: ê¸ˆì „ ë™ê¸°ë§Œ ì œê³µ. ì»¨ë””ì…˜ ê³ ë ¤ ì—†ìŒ. MAU 5.8ë§Œìœ¼ë¡œ ì´íƒˆ ì‹¬ê°
- **ì†Œì…œ ì•±(íˆ¬ë‘ë©”ì´íŠ¸)**: ì¹œêµ¬ ì˜ì¡´ì . ê°œì¸ ì»¨ë””ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ ì—†ìŒ
- **ê°ì • ì•±(í•˜ë£¨ì½©)**: ê¸°ë¡ë§Œ. ë£¨í‹´/í–‰ë™ ì—°ê²° ì—†ìŒ
- **í†µí•© ì‹œë„(ë£¨ë¹—Â·ì•³í”Œë¦¬)**: ê°ì •+ìŠµê´€ ê²°í•©í–ˆìœ¼ë‚˜, "ì»¨ë””ì…˜ ê¸°ë°˜ ë£¨í‹´ ìë™ ì¡°ì ˆ" ë¯¸ì œê³µ

â†’ **"ì»¨ë””ì…˜ê³¼ í–‰ë™ì„ ì—°ê²°í•˜ëŠ” ì•±"ì´ ì‹œì¥ì— ë¶€ì¬**

---

## 3. Target Users & Personas

### í˜ë¥´ì†Œë‚˜ A: "ì•¼ê·¼ ê¹€ëŒ€ë¦¬" (í•µì‹¬ íƒ€ê²Ÿ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œí•„ | 29ì„¸, ì„œìš¸ ITê¸°ì—… ëŒ€ë¦¬, 1ì¸ê°€êµ¬ |
| ìƒí™œíŒ¨í„´ | ì£¼ 2~3ì¼ ì•¼ê·¼, í‡´ê·¼ 18:30~21:00 ë³€ë™ |
| í˜„ì¬ í–‰ë™ | ë£¨í‹°ë„ˆë¦¬ ì‚¬ìš©í–ˆìœ¼ë‚˜ "ë§¤ì¼ ê°™ì€ ì‹œê°„ ì•Œë¦¼ì´ í˜„ì‹¤ê³¼ ì•ˆ ë§ìŒ"ìœ¼ë¡œ ì´íƒˆ |
| í•µì‹¬ ë‹ˆì¦ˆ | ì»¨ë””ì…˜ì— ë”°ë¼ "ì˜¤ëŠ˜ì€ ì´ ì •ë„ë§Œ" í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ êµ¬ì¡° |
| ì§€ë¶ˆ ì˜í–¥ | ì›” ìê¸°ê´€ë¦¬ ì§€ì¶œ 3~5ë§Œ ì›. ì›” 3,900ì› êµ¬ë… ë¶€ë‹´ ì—†ìŒ |
| ì„±ê³µ ê¸°ì¤€ | ë£¨í‹´ ì•±ì„ 1ê°œì›” ì´ìƒ ì§€ì†. ì£¼ 3ì¼ ì´ìƒ ì²´í¬ì¸ |

### í˜ë¥´ì†Œë‚˜ B: "ê°“ìƒ ë°•ì‚¬ì›ìƒ" (í™•ì¥ íƒ€ê²Ÿ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œí•„ | 25ì„¸, ì„œìš¸ ëŒ€í•™ì›ìƒ, ê³µìœ ì£¼ê±° |
| ìƒí™œíŒ¨í„´ | ìˆ˜ì—…/ì—°êµ¬/ì•„ë¥´ë°”ì´íŠ¸ë¡œ ìŠ¤ì¼€ì¤„ ìœ ë™ì  |
| í˜„ì¬ í–‰ë™ | íˆ¬ë‘ë©”ì´íŠ¸ ì‚¬ìš© ì¤‘ì´ë‚˜ "ì¹œêµ¬ê°€ ì•ˆ í•˜ë©´ ë‚˜ë„ ì•ˆ í•¨" |
| í•µì‹¬ ë‹ˆì¦ˆ | íƒ€ì¸ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ |
| ì§€ë¶ˆ ì˜í–¥ | ë¬´ë£Œ ê¸°ë³¸ ì‚¬ìš©, ê°€ì¹˜ ì¸ì§€ í›„ ìœ ë£Œ ì „í™˜ ê°€ëŠ¥ |
| ì„±ê³µ ê¸°ì¤€ | í•™ê¸° ì¤‘ ë£¨í‹´ ìœ ì§€ìœ¨ 60% ì´ìƒ |

### í˜ë¥´ì†Œë‚˜ C: "íšŒë³µ ì¤‘ ì´ì§ëŸ¬" (ì ì¬ íƒ€ê²Ÿ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œí•„ | 33ì„¸, ì´ì§ ì¤€ë¹„ ì¤‘ í”„ë¦¬ëœì„œ |
| ìƒí™œíŒ¨í„´ | ììœ ë¡œìš´ ì¼ì •ì´ì§€ë§Œ ì˜¤íˆë ¤ ìê¸°ê´€ë¦¬ê°€ ì–´ë ¤ì›€ |
| í˜„ì¬ í–‰ë™ | ë…¸ì…˜/ìº˜ë¦°ë”ë¡œ ìˆ˜ê¸° ê´€ë¦¬, ì¼ê´€ì„± ë¶€ì¡± |
| í•µì‹¬ ë‹ˆì¦ˆ | ë²ˆì•„ì›ƒ íšŒë³µê¸°ì— ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” ë£¨í‹´ ì‹œìŠ¤í…œ |
| ì§€ë¶ˆ ì˜í–¥ | íš¨ê³¼ë¥¼ ì²´ê°í•˜ë©´ ì—°ê°„ êµ¬ë… ì˜í–¥ |
| ì„±ê³µ ê¸°ì¤€ | ì£¼ê°„ ë¦¬í¬íŠ¸ì—ì„œ ì»¨ë””ì…˜-ë‹¬ì„± ìƒê´€ê´€ê³„ í™•ì¸ |

### íƒ€ê²Ÿ ê·œëª¨ (ì‹œì¥ë¶„ì„ ì¸ìš©)

- MZì„¸ëŒ€ ì§ì¥ì¸ ì•½ 920ë§Œ ëª… (ì„ê¸ˆê·¼ë¡œì 2,050ë§Œ Ã— MZ ë¹„ìœ¨ 45%)
- ë£¨í‹´ ì‹¤ì²œ ì˜í–¥ì ì•½ 710ë§Œ ëª… (920ë§Œ Ã— 77.2%)
- ëŒ€í•™ìƒ/ì·¨ì¤€ìƒ ì•½ 200ë§Œ ëª… ì¶”ê°€ â†’ **SAM ì•½ 910ë§Œ ëª…**

---

## 4. User Stories

### Epic 1: ì˜¨ë³´ë”©

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-01 | As a ì‹ ê·œ ì‚¬ìš©ì, I want 3ë‹¨ê³„ ì´í•˜ì˜ ê°„ë‹¨í•œ ê°€ì… ì ˆì°¨ë¥¼ ì™„ë£Œí•˜ê³  ì‹¶ë‹¤, so that ë¹ ë¥´ê²Œ ì•±ì„ ì‹œì‘í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-02 | As a ì‹ ê·œ ì‚¬ìš©ì, I want ì˜¨ë³´ë”©ì—ì„œ ë°ì¼ë¦¬ì…€í”„ì˜ "ì»¨ë””ì…˜ ì ì‘í˜•" í•µì‹¬ ê°€ì¹˜ë¥¼ ì´í•´í•˜ê³  ì‹¶ë‹¤, so that ê¸°ì¡´ ë£¨í‹´ ì•±ê³¼ì˜ ì°¨ì´ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤ | P0 |
| US-03 | As a ì‹ ê·œ ì‚¬ìš©ì, I want ê¸°ë³¸ ë£¨í‹´ í…œí”Œë¦¿(ìš´ë™Â·ë…ì„œÂ·ëª…ìƒ ë“±)ì—ì„œ ì´ˆê¸° ë£¨í‹´ì„ ì„ íƒí•˜ê³  ì‹¶ë‹¤, so that ë¹ˆ í™”ë©´ ì—†ì´ ë°”ë¡œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤ | P0 |

### Epic 2: ì¸ì¦

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-04 | As a ì‚¬ìš©ì, I want ì¹´ì¹´ì˜¤/êµ¬ê¸€/ì• í”Œ ì†Œì…œ ë¡œê·¸ì¸ìœ¼ë¡œ ê°€ì…í•˜ê³  ì‹¶ë‹¤, so that ë³„ë„ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ë¹ ë¥´ê²Œ ê°€ì…í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-05 | As a ì‚¬ìš©ì, I want ë¡œê·¸ì•„ì›ƒ í›„ ì¬ë¡œê·¸ì¸ ì‹œ ëª¨ë“  ë°ì´í„°ê°€ ìœ ì§€ë˜ê¸¸ ì›í•œë‹¤, so that ë°ì´í„° ì†ì‹¤ ê±±ì • ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-06 | As a ì‚¬ìš©ì, I want ê³„ì •ì„ íƒˆí‡´í•˜ê³  ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ë‹¤, so that ê°œì¸ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ | P1 |

### Epic 3: ì•„ì¹¨ ì²´í¬ì¸

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-07 | As a ì‚¬ìš©ì, I want ì•„ì¹¨ì— ì—ë„ˆì§€ ë ˆë²¨(1-5), ìˆ˜ë©´ ì‹œê°„, ì˜¤ëŠ˜ ê¸°ë¶„(ì¢‹ìŒ/ë³´í†µ/ë‚˜ì¨)ì„ 30ì´ˆ ë‚´ë¡œ ì…ë ¥í•˜ê³  ì‹¶ë‹¤, so that ì˜¤ëŠ˜ ì»¨ë””ì…˜ì„ ë¹ ë¥´ê²Œ ê¸°ë¡í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-08 | As a ì‚¬ìš©ì, I want ì²´í¬ì¸ ì‹œê°„ì— í‘¸ì‹œ ì•Œë¦¼ì„ ë°›ê³  ì‹¶ë‹¤, so that ë§¤ì¼ ì²´í¬ì¸ì„ ìŠì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ | P1 |
| US-09 | As a ì‚¬ìš©ì, I want ì²´í¬ì¸ì„ ê±´ë„ˆë›´ ë‚ ì—ë„ ì•±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸¸ ì›í•œë‹¤, so that ì²´í¬ì¸ ë¶€ë‹´ìœ¼ë¡œ ì•±ì„ í¬ê¸°í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ | P0 |

### Epic 4: ë£¨í‹´ ê´€ë¦¬

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-10 | As a ì‚¬ìš©ì, I want ë‚˜ë§Œì˜ ë£¨í‹´ì„ ìƒì„±í•˜ê³  ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ë‹¤, so that ì›í•˜ëŠ” í™œë™ì„ ë£¨í‹´ í’€ì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-11 | As a ì‚¬ìš©ì, I want ê° ë£¨í‹´ì— ì†Œìš” ì‹œê°„ê³¼ í•„ìš” ì—ë„ˆì§€ ë ˆë²¨ì„ ì„¤ì •í•˜ê³  ì‹¶ë‹¤, so that ì»¨ë””ì…˜ ê¸°ë°˜ ìë™ ë°°ì¹˜ì˜ ê¸°ì¤€ì´ ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-12 | As a ì‚¬ìš©ì, I want ê¸°ë³¸ ì œê³µ ë£¨í‹´ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤, so that ì§ì ‘ ë§Œë“¤ì§€ ì•Šì•„ë„ ë°”ë¡œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤ | P0 |

### Epic 5: ì ì‘í˜• ì˜¤ëŠ˜ì˜ í”Œëœ

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-13 | As a ì‚¬ìš©ì, I want ì•„ì¹¨ ì²´í¬ì¸ í›„ ë‚´ ì»¨ë””ì…˜ì— ë§ê²Œ ìë™ ì¡°ì ˆëœ ì˜¤ëŠ˜ì˜ í”Œëœì„ ë°›ê³  ì‹¶ë‹¤, so that ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” í•˜ë£¨ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤ | P0 |
| US-14 | As a ì‚¬ìš©ì, I want ìë™ ìƒì„±ëœ í”Œëœì—ì„œ ë£¨í‹´ì„ ì¶”ê°€/ì œê±°/ìˆœì„œ ë³€ê²½í•˜ê³  ì‹¶ë‹¤, so that ë‚´ ìƒí™©ì— ë§ê²Œ ë¯¸ì„¸ ì¡°ì •í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-15 | As a ì‚¬ìš©ì, I want í”Œëœì˜ ê° ë£¨í‹´ì„ ì™„ë£Œ ì²´í¬í•˜ê³  ì‹¶ë‹¤, so that ì˜¤ëŠ˜ì˜ ë‹¬ì„± í˜„í™©ì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-16 | As a ì‚¬ìš©ì, I want ì—ë„ˆì§€ê°€ ë‚®ì€ ë‚ ì—ëŠ” ë‚œì´ë„ê°€ ë‚®ì€ ë£¨í‹´ì´ ìë™ìœ¼ë¡œ ì œì•ˆë˜ê¸¸ ì›í•œë‹¤, so that ì»¨ë””ì…˜ì´ ì•ˆ ì¢‹ì€ ë‚ ì—ë„ ì‘ì€ ì„±ì·¨ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆë‹¤ | P0 |

### Epic 6: ì €ë… íšŒê³ 

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-17 | As a ì‚¬ìš©ì, I want í•˜ë£¨ ëì— í•œì¤„ íšŒê³ ë¥¼ ì‘ì„±í•˜ê³  ì‹¶ë‹¤, so that ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ ëŒì•„ë³¼ ìˆ˜ ìˆë‹¤ | P1 |
| US-18 | As a ì‚¬ìš©ì, I want ì˜¤ëŠ˜ ë‹¬ì„±ë¥ ì„ í•œëˆˆì— ë³´ê³  ì‹¶ë‹¤, so that ì„±ì·¨ê°ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤ | P0 |

### Epic 7: ë¦¬í¬íŠ¸ & ì¸ì‚¬ì´íŠ¸

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-19 | As a ì‚¬ìš©ì, I want ì£¼ê°„ ë¦¬í¬íŠ¸ì—ì„œ ì»¨ë””ì…˜-ë‹¬ì„±ë¥  ìƒê´€ê´€ê³„ë¥¼ ë³´ê³  ì‹¶ë‹¤, so that ë‚˜ì˜ íŒ¨í„´ì„ ì´í•´í•  ìˆ˜ ìˆë‹¤ | P0 |
| US-20 | As a ì‚¬ìš©ì, I want "ì—ë„ˆì§€ 3 ì´ìƒì¸ ë‚  ë‹¬ì„±ë¥  85%" ê°™ì€ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°›ê³  ì‹¶ë‹¤, so that ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ìê¸° ê´€ë¦¬ë¥¼ ê°œì„ í•  ìˆ˜ ìˆë‹¤ | P1 |
| US-21 | As a ìœ ë£Œ ì‚¬ìš©ì, I want ì›”ê°„ íŠ¸ë Œë“œ ë¶„ì„ê³¼ AI ê°œì¸í™” ì¸ì‚¬ì´íŠ¸ë¥¼ ë°›ê³  ì‹¶ë‹¤, so that ì¥ê¸°ì  íŒ¨í„´ê³¼ ê°œì„ ì ì„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤ | P2 |

### Epic 8: ì„¤ì •

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-22 | As a ì‚¬ìš©ì, I want ì•„ì¹¨ ì²´í¬ì¸ ì•Œë¦¼ ì‹œê°„ì„ ì„¤ì •í•˜ê³  ì‹¶ë‹¤, so that ë‚´ ê¸°ìƒ ì‹œê°„ì— ë§ì¶° ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆë‹¤ | P1 |
| US-23 | As a ì‚¬ìš©ì, I want í”„ë¡œí•„ ì •ë³´(ë‹‰ë„¤ì„Â·ì‹œê°„ëŒ€)ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤, so that ê°œì¸ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ | P1 |
| US-24 | As a ì‚¬ìš©ì, I want ë°ì´í„° ë‚´ë³´ë‚´ê¸°ë¥¼ í•˜ê³  ì‹¶ë‹¤, so that ë‚´ ê¸°ë¡ì„ ë°±ì—…í•  ìˆ˜ ìˆë‹¤ | P2 |

### Epic 9: ê²°ì œ & êµ¬ë…

| ID | User Story | ìš°ì„ ìˆœìœ„ |
|----|-----------|---------|
| US-25 | As a ë¬´ë£Œ ì‚¬ìš©ì, I want í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì˜ ê°€ì¹˜ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ê³  ì‹¶ë‹¤, so that êµ¬ë… ì—¬ë¶€ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆë‹¤ | P1 |
| US-26 | As a ì‚¬ìš©ì, I want ì›”ê°„/ì—°ê°„ êµ¬ë…ì„ ì¸ì•±ê²°ì œë¡œ êµ¬ë§¤í•˜ê³  ì‹¶ë‹¤, so that í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ | P1 |
| US-27 | As a ìœ ë£Œ ì‚¬ìš©ì, I want êµ¬ë…ì„ í•´ì§€í•˜ê³  ì‹¶ë‹¤, so that ì›í•˜ì§€ ì•ŠëŠ” ê²°ì œë¥¼ ì¤‘ë‹¨í•  ìˆ˜ ìˆë‹¤ | P1 |

---

## 5. Functional Requirements

### 5-1. P0 â€” MVP í•µì‹¬ (ë°˜ë“œì‹œ ì¶œì‹œ ì „ êµ¬í˜„)

#### FR-01: ì†Œì…œ ë¡œê·¸ì¸

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ì¹´ì¹´ì˜¤Â·êµ¬ê¸€Â·ì• í”Œ OAuthë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸ |
| ì…ë ¥ | OAuth í† í° |
| ì¶œë ¥ | Supabase ì„¸ì…˜, ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„± |
| ì œí•œì‚¬í•­ | Apple ë¡œê·¸ì¸ì€ iOS í•„ìˆ˜ (App Store ì •ì±…) |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-01-1: ì¹´ì¹´ì˜¤/êµ¬ê¸€/ì• í”Œ ì¤‘ í•˜ë‚˜ë¡œ ë¡œê·¸ì¸ ì‹œ, 3ì´ˆ ì´ë‚´ì— í™ˆ í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤
- AC-01-2: ìµœì´ˆ ê°€ì… ì‹œ ë‹‰ë„¤ì„ ì…ë ¥ í™”ë©´ì´ í‘œì‹œëœë‹¤
- AC-01-3: ì´ë¯¸ ê°€ì…ëœ ì†Œì…œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ ì‹œ, ê¸°ì¡´ ë°ì´í„°ê°€ ìœ ì§€ëœë‹¤

#### FR-02: ì˜¨ë³´ë”© í”Œë¡œìš°

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ê°€ì… ì§í›„ í•µì‹¬ ê°€ì¹˜ ì„¤ëª… + ì´ˆê¸° ë£¨í‹´ ì„ íƒ |
| ì…ë ¥ | ì‚¬ìš©ìì˜ ë£¨í‹´ ì¹´í…Œê³ ë¦¬ ì„ íƒ (ìš´ë™/ë…ì„œ/ëª…ìƒ/í•™ìŠµ/ê¸°íƒ€) |
| ì¶œë ¥ | ì´ˆê¸° ë£¨í‹´ í’€ ì„¸íŒ… ì™„ë£Œ, í™ˆ í™”ë©´ ì§„ì… |
| ì œí•œì‚¬í•­ | 3ë‹¨ê³„ ì´í•˜, ì „ì²´ 60ì´ˆ ì´ë‚´ ì™„ë£Œ ê°€ëŠ¥ |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-02-1: ì˜¨ë³´ë”©ì€ ìµœëŒ€ 3ë‹¨ê³„ë¡œ êµ¬ì„±ë˜ë©°, ê° ë‹¨ê³„ì—ì„œ "ê±´ë„ˆë›°ê¸°"ê°€ ê°€ëŠ¥í•˜ë‹¤
- AC-02-2: ë£¨í‹´ ì¹´í…Œê³ ë¦¬ ì„ íƒ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ê¸°ë³¸ ë£¨í‹´ í…œí”Œë¦¿ì´ ìë™ ë“±ë¡ëœë‹¤
- AC-02-3: ì˜¨ë³´ë”© ì™„ë£Œ í›„ í™ˆ í™”ë©´ì— ì˜¤ëŠ˜ì˜ í”Œëœì´ í‘œì‹œëœë‹¤ (ì²´í¬ì¸ ì „ì´ë©´ ì²´í¬ì¸ ìœ ë„)

#### FR-03: ì•„ì¹¨ ì²´í¬ì¸

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ì—ë„ˆì§€ ë ˆë²¨(1-5), ìˆ˜ë©´ ì‹œê°„(0~12h), ê¸°ë¶„(ì¢‹ìŒ/ë³´í†µ/ë‚˜ì¨) ì…ë ¥ |
| ì…ë ¥ | ìŠ¬ë¼ì´ë”(ì—ë„ˆì§€), ìˆ«ì ì…ë ¥(ìˆ˜ë©´), íƒ­ ì„ íƒ(ê¸°ë¶„) |
| ì¶œë ¥ | ì²´í¬ì¸ ë ˆì½”ë“œ ì €ì¥, ì˜¤ëŠ˜ì˜ í”Œëœ ìƒì„± íŠ¸ë¦¬ê±° |
| ì œí•œì‚¬í•­ | í•˜ë£¨ 1íšŒ. 30ì´ˆ ì´ë‚´ ì™„ë£Œ ê°€ëŠ¥í•œ UI |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-03-1: ì—ë„ˆì§€ ìŠ¬ë¼ì´ë”ëŠ” 1~5 ì •ìˆ˜ ê°’ì„ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë©°, íƒ­/ìŠ¤ì™€ì´í”„ë¡œ ì¡°ì‘ ê°€ëŠ¥í•˜ë‹¤
- AC-03-2: ìˆ˜ë©´ ì‹œê°„ì€ 0.5ì‹œê°„ ë‹¨ìœ„ë¡œ 0~12ì‹œê°„ ë²”ìœ„ì—ì„œ ì…ë ¥ ê°€ëŠ¥í•˜ë‹¤
- AC-03-3: ê¸°ë¶„ì€ ì¢‹ìŒ/ë³´í†µ/ë‚˜ì¨ 3ê°€ì§€ ì¤‘ 1ê°œë¥¼ íƒ­ìœ¼ë¡œ ì„ íƒí•œë‹¤
- AC-03-4: "ì €ì¥" íƒ­ ì‹œ 1ì´ˆ ì´ë‚´ì— ì²´í¬ì¸ì´ ì €ì¥ë˜ê³  ì˜¤ëŠ˜ì˜ í”Œëœì´ ìƒì„±ëœë‹¤
- AC-03-5: ì²´í¬ì¸ì„ ê±´ë„ˆë›°ì–´ë„ ì´ì „ 7ì¼ í‰ê·  ì»¨ë””ì…˜ ê¸°ë°˜ìœ¼ë¡œ ê¸°ë³¸ í”Œëœì´ ì œê³µëœë‹¤

#### FR-04: ë£¨í‹´ CRUD

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ì‚¬ìš©ì ë£¨í‹´ ìƒì„±Â·ì¡°íšŒÂ·ìˆ˜ì •Â·ì‚­ì œ ë° ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ |
| ì…ë ¥ | ë£¨í‹´ëª…, ì¹´í…Œê³ ë¦¬, ì†Œìš” ì‹œê°„(ë¶„), í•„ìš” ì—ë„ˆì§€ ë ˆë²¨(1-5), ì„¤ëª…(ì„ íƒ) |
| ì¶œë ¥ | ë£¨í‹´ í’€ì— ì €ì¥/ê°±ì‹  |
| ì œí•œì‚¬í•­ | ë¬´ë£Œ: ìµœëŒ€ 5ê°œ ì»¤ìŠ¤í…€ ë£¨í‹´ + ê¸°ë³¸ í…œí”Œë¦¿. ìœ ë£Œ: ë¬´ì œí•œ |
| ë¬´ë£Œ/ìœ ë£Œ | ê¸°ë³¸(ë¬´ë£Œ) / ë¬´ì œí•œ(ìœ ë£Œ) |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-04-1: ë£¨í‹´ ìƒì„± ì‹œ ë£¨í‹´ëª…(í•„ìˆ˜)Â·ì¹´í…Œê³ ë¦¬(í•„ìˆ˜)Â·ì†Œìš” ì‹œê°„(í•„ìˆ˜)Â·í•„ìš” ì—ë„ˆì§€(í•„ìˆ˜)ë¥¼ ì…ë ¥í•˜ë©´ ì €ì¥ëœë‹¤
- AC-04-2: ë¬´ë£Œ ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ ë£¨í‹´ 5ê°œë¥¼ ì´ˆê³¼í•˜ì—¬ ìƒì„± ì‹œë„ ì‹œ, í”„ë¦¬ë¯¸ì—„ ì•ˆë‚´ê°€ í‘œì‹œëœë‹¤
- AC-04-3: ë£¨í‹´ ì‚­ì œ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ê°€ í‘œì‹œë˜ë©°, ì‚­ì œëœ ë£¨í‹´ì€ í–¥í›„ í”Œëœì—ì„œ ì œì™¸ëœë‹¤
- AC-04-4: ê¸°ë³¸ í…œí”Œë¦¿ ë£¨í‹´ì€ ìˆ˜ì • ê°€ëŠ¥í•˜ë˜ ì‚­ì œ ë¶ˆê°€í•˜ë‹¤

#### FR-05: ì ì‘í˜• í”Œëœ ìƒì„± (í•µì‹¬ ì°¨ë³„í™” ê¸°ëŠ¥)

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ì²´í¬ì¸ ê²°ê³¼ ê¸°ë°˜ ì˜¤ëŠ˜ì˜ ë£¨í‹´ í”Œëœ ìë™ ìƒì„±. ì—ë„ˆì§€ ë ˆë²¨ì— ë”°ë¼ ë£¨í‹´ í’€ì—ì„œ ì í•©í•œ ë£¨í‹´ ì„ ë³„Â·ë°°ì¹˜ |
| ì…ë ¥ | ì˜¤ëŠ˜ ì²´í¬ì¸ ë°ì´í„°, ì‚¬ìš©ì ë£¨í‹´ í’€, ê³¼ê±° ë‹¬ì„± ì´ë ¥ |
| ì¶œë ¥ | ì˜¤ëŠ˜ì˜ í”Œëœ (ë£¨í‹´ ëª©ë¡ + ìˆœì„œ + ì˜ˆìƒ ì´ ì†Œìš”ì‹œê°„) |
| ì œí•œì‚¬í•­ | ê·œì¹™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ (ì™¸ë¶€ AI API ë¶ˆì‚¬ìš©). í”Œëœ ë‚´ ë£¨í‹´ ìˆ˜: ì—ë„ˆì§€ 1~2 â†’ 1~2ê°œ, ì—ë„ˆì§€ 3 â†’ 2~3ê°œ, ì—ë„ˆì§€ 4~5 â†’ 3~5ê°œ |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-05-1: ì²´í¬ì¸ ì™„ë£Œ í›„ 2ì´ˆ ì´ë‚´ì— ì˜¤ëŠ˜ì˜ í”Œëœì´ ìƒì„±ë˜ì–´ í™”ë©´ì— í‘œì‹œëœë‹¤
- AC-05-2: ì—ë„ˆì§€ ë ˆë²¨ 1~2ì¼ ë•Œ, í•„ìš” ì—ë„ˆì§€ 1~2ì¸ ë£¨í‹´ë§Œ ì„ ë³„ë˜ë©° ìµœëŒ€ 2ê°œê¹Œì§€ ë°°ì¹˜ëœë‹¤
- AC-05-3: ì—ë„ˆì§€ ë ˆë²¨ 4~5ì¼ ë•Œ, í•„ìš” ì—ë„ˆì§€ 3 ì´ìƒ ë£¨í‹´ë„ í¬í•¨ë˜ë©° ìµœëŒ€ 5ê°œê¹Œì§€ ë°°ì¹˜ëœë‹¤
- AC-05-4: ê¸°ë¶„ì´ "ë‚˜ì¨"ì¼ ë•Œ, ì…€í”„ì¼€ì–´ ì¹´í…Œê³ ë¦¬ ë£¨í‹´ì´ ìš°ì„  ë°°ì¹˜ëœë‹¤
- AC-05-5: ì´ ì˜ˆìƒ ì†Œìš”ì‹œê°„ì´ ì‚¬ìš© ê°€ëŠ¥ ì‹œê°„(ì—ë„ˆì§€ ë ˆë²¨ ë¹„ë¡€)ì„ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ”ë‹¤

#### FR-06: í”Œëœ ìˆ˜ë™ ì¡°ì •

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ìë™ ìƒì„±ëœ í”Œëœì—ì„œ ë£¨í‹´ ì¶”ê°€/ì œê±°/ìˆœì„œ ë³€ê²½ |
| ì…ë ¥ | ë“œë˜ê·¸ì•¤ë“œë¡­, ì¶”ê°€/ì‚­ì œ ë²„íŠ¼ |
| ì¶œë ¥ | ìˆ˜ì •ëœ í”Œëœ ì €ì¥ |
| ì œí•œì‚¬í•­ | ìˆ˜ì • í›„ì—ë„ ë‹¬ì„± ì¶”ì ì€ ë™ì¼í•˜ê²Œ ì‘ë™ |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-06-1: í”Œëœ ë‚´ ë£¨í‹´ì„ ê¸¸ê²Œ ëˆ„ë¥´ë©´ ë“œë˜ê·¸ ëª¨ë“œë¡œ ì „í™˜ë˜ì–´ ìˆœì„œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤
- AC-06-2: "ë£¨í‹´ ì¶”ê°€" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë£¨í‹´ í’€ì—ì„œ ì¶”ê°€í•  ë£¨í‹´ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤
- AC-06-3: ë£¨í‹´ ìŠ¤ì™€ì´í”„ ì‹œ ì‚­ì œ ì˜µì…˜ì´ ë‚˜íƒ€ë‚˜ë©°, ì¦‰ì‹œ í”Œëœì—ì„œ ì œê±°ëœë‹¤

#### FR-07: ë£¨í‹´ ì™„ë£Œ ì²´í¬ & ë‹¬ì„±ë¥ 

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | í”Œëœ ë‚´ ê° ë£¨í‹´ ì™„ë£Œ ì²´í¬. ì˜¤ëŠ˜ ë‹¬ì„±ë¥ (ì™„ë£Œ/ì „ì²´) ì‹¤ì‹œê°„ í‘œì‹œ |
| ì…ë ¥ | ì²´í¬ë°•ìŠ¤ íƒ­ |
| ì¶œë ¥ | ì™„ë£Œ ìƒíƒœ ì €ì¥, ë‹¬ì„±ë¥  ê°±ì‹  |
| ì œí•œì‚¬í•­ | ì™„ë£Œ ì·¨ì†Œ(ì–¸ì²´í¬) ê°€ëŠ¥ |
| ë¬´ë£Œ/ìœ ë£Œ | ê³µí†µ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-07-1: ë£¨í‹´ ì²´í¬ ì‹œ 0.5ì´ˆ ì´ë‚´ì— ì™„ë£Œ ìƒíƒœê°€ ë°˜ì˜ë˜ê³  ë‹¬ì„±ë¥ ì´ ê°±ì‹ ëœë‹¤
- AC-07-2: ë‹¬ì„±ë¥ ì€ (ì™„ë£Œ ë£¨í‹´ ìˆ˜ / ì „ì²´ ë£¨í‹´ ìˆ˜) Ã— 100ìœ¼ë¡œ ê³„ì‚°ë˜ì–´ ì†Œìˆ˜ì  ì—†ì´ í‘œì‹œëœë‹¤
- AC-07-3: ì™„ë£Œëœ ë£¨í‹´ì„ ë‹¤ì‹œ íƒ­í•˜ë©´ ë¯¸ì™„ë£Œë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤

#### FR-08: ì£¼ê°„ ë¦¬í¬íŠ¸

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì„¤ëª… | ìµœê·¼ 7ì¼ê°„ ì»¨ë””ì…˜(ì—ë„ˆì§€Â·ìˆ˜ë©´Â·ê¸°ë¶„)ê³¼ ë‹¬ì„±ë¥ ì˜ ìƒê´€ê´€ê³„ ì‹œê°í™” |
| ì…ë ¥ | ìµœê·¼ 7ì¼ ì²´í¬ì¸ + ë‹¬ì„± ë°ì´í„° |
| ì¶œë ¥ | êº¾ì€ì„  ì°¨íŠ¸(ì—ë„ˆì§€Â·ë‹¬ì„±ë¥  ì¶”ì´), í•µì‹¬ ì¸ì‚¬ì´íŠ¸ ë¬¸ì¥ 1~2ê°œ |
| ì œí•œì‚¬í•­ | ìµœì†Œ 3ì¼ ë°ì´í„° ëˆ„ì  ì‹œ ë¦¬í¬íŠ¸ ìƒì„± |
| ë¬´ë£Œ/ìœ ë£Œ | ë¬´ë£Œ |

**ìˆ˜ìš© ê¸°ì¤€:**
- AC-08-1: ìµœê·¼ 7ì¼ê°„ ì—ë„ˆì§€ ë ˆë²¨ê³¼ ë‹¬ì„±ë¥ ì„ ë™ì¼ ì°¨íŠ¸ì— í‘œì‹œí•œë‹¤ (ì´ì¤‘ Yì¶•)
- AC-08-2: "ì—ë„ˆì§€ N ì´ìƒì¸ ë‚  í‰ê·  ë‹¬ì„±ë¥  X%" í˜•íƒœì˜ ì¸ì‚¬ì´íŠ¸ ë¬¸ì¥ì´ 1ê°œ ì´ìƒ í‘œì‹œëœë‹¤
- AC-08-3: ë°ì´í„°ê°€ 3ì¼ ë¯¸ë§Œì¼ ë•ŒëŠ” "Nì¼ ë” ê¸°ë¡í•˜ë©´ ë¦¬í¬íŠ¸ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”" ë©”ì‹œì§€ë¥¼ í‘œì‹œí•œë‹¤

### 5-2. P1 â€” MVP í¬í•¨ ê¶Œì¥ (ì¶œì‹œ ì‹œ í¬í•¨í•˜ë˜ ì¼ë¶€ ì§€ì—° ê°€ëŠ¥)

| ID | ê¸°ëŠ¥ | ì„¤ëª… |
|----|------|------|
| FR-09 | ì €ë… íšŒê³  | í•œì¤„ í…ìŠ¤íŠ¸ íšŒê³  ì‘ì„± (ìµœëŒ€ 200ì) |
| FR-10 | ì²´í¬ì¸ ì•Œë¦¼ | ì„¤ì •í•œ ì‹œê°„ì— í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡ (expo-notifications) |
| FR-11 | ì¸ì•±ê²°ì œ | ì›”ê°„/ì—°ê°„ êµ¬ë… êµ¬ë§¤Â·ë³µì›Â·í•´ì§€ (RevenueCat) |
| FR-12 | ê³„ì • ê´€ë¦¬ | ë‹‰ë„¤ì„ ë³€ê²½, ë¡œê·¸ì•„ì›ƒ, ê³„ì • íƒˆí‡´(ë°ì´í„° ì‚­ì œ) |
| FR-13 | í”„ë¦¬ë¯¸ì—„ ì—…ì…€ | ë¬´ë£Œ í•œë„ ë„ë‹¬ ì‹œ í”„ë¦¬ë¯¸ì—„ ì•ˆë‚´ ëª¨ë‹¬ |
| FR-14 | ìº˜ë¦°ë” ë·° | ì›”ë³„ ë‹¬ì„±ë¥ ì„ ìº˜ë¦°ë” í˜•íƒœë¡œ í‘œì‹œ (react-native-calendars) |

### 5-3. P2 â€” Post-MVP (ì¶œì‹œ í›„ ì—…ë°ì´íŠ¸)

| ID | ê¸°ëŠ¥ | ì„¤ëª… |
|----|------|------|
| FR-15 | ì›”ê°„ íŠ¸ë Œë“œ ë¶„ì„ | 4ì£¼ê°„ ì»¨ë””ì…˜-ë‹¬ì„±ë¥  ì¶”ì´ ë° íŒ¨í„´ ë¶„ì„ (ìœ ë£Œ) |
| FR-16 | AI ê°œì¸í™” ì¸ì‚¬ì´íŠ¸ | LLM APIë¡œ ê°œì¸í™”ëœ ë£¨í‹´ ê°œì„  ì œì•ˆ (ìœ ë£Œ) |
| FR-17 | SNS ê³µìœ  | "ì˜¤ëŠ˜ì˜ ì»¨ë””ì…˜ ì²´í¬" ê²°ê³¼ ì´ë¯¸ì§€ë¥¼ SNSì— ê³µìœ  |
| FR-18 | ë°ì´í„° ë‚´ë³´ë‚´ê¸° | CSV/JSON í˜•íƒœë¡œ ì „ì²´ ë°ì´í„° ë‹¤ìš´ë¡œë“œ |
| FR-19 | ì»¤ìŠ¤í…€ ë£¨í‹´ ì¹´í…Œê³ ë¦¬ | ì‚¬ìš©ì ì •ì˜ ì¹´í…Œê³ ë¦¬ ìƒì„± (ìœ ë£Œ) |
| FR-20 | ì…€í”„ì¼€ì–´ ì½˜í…ì¸  | ì»¨ë””ì…˜ë³„ ì¶”ì²œ ì½˜í…ì¸  ë¼ì´ë¸ŒëŸ¬ë¦¬ (ìœ ë£Œ) |

---

## 6. Non-functional Requirements

### 6-1. ì„±ëŠ¥

| í•­ëª© | ê¸°ì¤€ |
|------|------|
| ì•± ì´ˆê¸° ë¡œë“œ (ì½œë“œ ìŠ¤íƒ€íŠ¸) | 3ì´ˆ ì´ë‚´ |
| ì²´í¬ì¸ ì €ì¥ ì‘ë‹µ | 1ì´ˆ ì´ë‚´ |
| í”Œëœ ìƒì„± ì‘ë‹µ | 2ì´ˆ ì´ë‚´ |
| ë¦¬í¬íŠ¸ ë°ì´í„° ë¡œë“œ | 2ì´ˆ ì´ë‚´ |
| ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œ ì²´í¬ì¸/í”Œëœ ì¡°íšŒ | ì¦‰ì‹œ (ë¡œì»¬ ìºì‹œ) |

### 6-2. ë³´ì•ˆ

| í•­ëª© | ê¸°ì¤€ |
|------|------|
| ì¸ì¦ | Supabase Auth + OAuth 2.0 |
| ë°ì´í„° ê²©ë¦¬ | Supabase RLSë¡œ ì‚¬ìš©ìë³„ ë°ì´í„° ì™„ì „ ê²©ë¦¬ |
| í†µì‹  | HTTPS ì „ìš© (TLS 1.2+) |
| í† í° ì €ì¥ | MMKV (ì•”í˜¸í™” ëª¨ë“œ) |
| ê³„ì • ì‚­ì œ | ìš”ì²­ ì‹œ 72ì‹œê°„ ë‚´ ì „ì²´ ë°ì´í„° ì‚­ì œ |

### 6-3. ì ‘ê·¼ì„±

| í•­ëª© | ê¸°ì¤€ |
|------|------|
| ìµœì†Œ OS | iOS 15+, Android 10+ |
| ì–¸ì–´ | í•œêµ­ì–´ (v1). ì˜ì–´ (v2 ì´í›„) |
| í°íŠ¸ í¬ê¸° | ì‹œìŠ¤í…œ Dynamic Type / ì ‘ê·¼ì„± ì„¤ì • ì¤€ìˆ˜ |
| ìƒ‰ìƒ ëŒ€ë¹„ | WCAG 2.1 AA ê¸°ì¤€ ì¶©ì¡± |

### 6-4. í™•ì¥ì„±

| í•­ëª© | ê¸°ì¤€ |
|------|------|
| ë™ì‹œ ì ‘ì† | Supabase Free Tier ê¸°ì¤€ 500 ë™ì‹œ ì ‘ì† â†’ ì„±ì¥ ì‹œ Pro ì „í™˜ |
| DB í¬ê¸° | 500MB (Free) â†’ 8GB (Pro). ì‚¬ìš©ìë‹¹ ì—°ê°„ ì•½ 5MB ì˜ˆìƒ |
| Edge Function | ì›” 500K í˜¸ì¶œ (Free) â†’ Pro ì „í™˜ ì‹œ 200ë§Œ í˜¸ì¶œ |
| ëª¨ë‹ˆí„°ë§ | Supabase Dashboard + Aptabase ê¸°ë³¸ ë¶„ì„ |

---

## 7. Technical Architecture

### 7-1. ê¸°ìˆ  ìŠ¤íƒ

| ë ˆì´ì–´ | ê¸°ìˆ  | ë²„ì „/ì‚¬ì–‘ | ì„ ì • ì‚¬ìœ  |
|--------|------|-----------|-----------|
| **í”„ë ˆì„ì›Œí¬** | Expo Managed Workflow | SDK 52+ | Expo Router íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…, OTA ì—…ë°ì´íŠ¸, EAS Build í†µí•©. 1ì¸ ê°œë°œ ìƒì‚°ì„± ê·¹ëŒ€í™” |
| **ì–¸ì–´** | TypeScript | strict mode | ì»´íŒŒì¼ íƒ€ì„ íƒ€ì… ì•ˆì „ì„±ìœ¼ë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ ìµœì†Œí™” |
| **ë¼ìš°íŒ…** | Expo Router | v4+ (íŒŒì¼ ê¸°ë°˜) | íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ ë¼ìš°íŒ…ìœ¼ë¡œ í™”ë©´ ì¶”ê°€ê°€ íŒŒì¼ ìƒì„±ë§Œìœ¼ë¡œ ì™„ë£Œ. Deep Link ìë™ ì§€ì› |
| **UI í”„ë ˆì„ì›Œí¬** | React Native Paper | v5+ | Material Design 3 ê¸°ë°˜, í…Œë§ˆ ì»¤ìŠ¤í…€ ìš©ì´, ì ‘ê·¼ì„±(a11y) ë‚´ì¥, Expo í˜¸í™˜ ìš°ìˆ˜ |
| **ìƒíƒœ ê´€ë¦¬** | Zustand | v5+ | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ìµœì†Œ, TypeScript ì¶”ë¡  ìš°ìˆ˜, ë¯¸ë“¤ì›¨ì–´ë¡œ persist/devtools ì§€ì› |
| **ë°±ì—”ë“œ** | Supabase | Cloud (Free â†’ Pro) | PostgreSQL + Auth + Edge Functions + Storage + Realtime í†µí•© BaaS. RLSë¡œ ë°ì´í„° ê²©ë¦¬ |
| **ë¡œì»¬ KV** | react-native-mmkv | v3+ | ì•”í˜¸í™” ì €ì¥, ë™ê¸°ì‹ ì½ê¸°/ì“°ê¸°, Zustand persist ì–´ëŒ‘í„° ë‚´ì¥. í† í°/ì„¤ì •/ìºì‹œ ì €ì¥ |
| **ë¡œì»¬ DB** | op-sqlite | ìµœì‹  ì•ˆì • | SQLite ê¸°ë°˜, ì˜¤í”„ë¼ì¸ ì²´í¬ì¸/í”Œëœ ë¡œì»¬ ìºì‹œìš©. 1ì¸ ê°œë°œ í•™ìŠµê³¡ì„  ë‚®ìŒ |
| **ì¸ì¦** | Kakao OAuth + Google OAuth + Apple Auth | â€” | í•œêµ­ ì‹œì¥ 3ëŒ€ ì†Œì…œ ë¡œê·¸ì¸. Supabase Authì™€ ì—°ë™ |
| **ì•Œë¦¼** | expo-notifications | â€” | Expo Push Token ê¸°ë°˜ í‘¸ì‹œ ì•Œë¦¼. ì•„ì¹¨ ì²´í¬ì¸ ë¦¬ë§ˆì¸ë”ìš© |
| **ë¶„ì„** | Aptabase | â€” | í”„ë¼ì´ë²„ì‹œ ì¹œí™”ì  ì˜¤í”ˆì†ŒìŠ¤ ë¶„ì„. Firebase ëŒ€ë¹„ ì„¤ì • ê°„ì†Œ |
| **ê²°ì œ** | RevenueCat | â€” | IAP ë˜í•‘, êµ¬ë… ê´€ë¦¬/ë¶„ì„/A-B í…ŒìŠ¤íŠ¸ í†µí•©. 1ì¸ ê°œë°œìì—ê²Œ react-native-iap ëŒ€ë¹„ ìš´ì˜ ë¶€ë‹´ ëŒ€í­ ì ˆê° |
| **ì°¨íŠ¸** | Victory Native (Skia ê¸°ë°˜) | â€” | Skia ë Œë”ë§ìœ¼ë¡œ 60fps ë¶€ë“œëŸ¬ìš´ ì°¨íŠ¸ ì• ë‹ˆë©”ì´ì…˜. ì´ì¤‘ Yì¶• ì§€ì› |
| **UI ì»´í¬ë„ŒíŠ¸** | react-native-calendars | â€” | ìº˜ë¦°ë” ë·° (P1 FR-14). ë‹¬ì„±ë¥  ì‹œê°í™” |
| **í–…í‹±** | expo-haptics | â€” | ì²´í¬ì¸ ì™„ë£Œ, ë£¨í‹´ ë‹¬ì„± ì‹œ ì´‰ê° í”¼ë“œë°± |
| **ë¹Œë“œ/ë°°í¬** | EAS Build + EAS Submit | â€” | CI/CD íŒŒì´í”„ë¼ì¸. OTA ì—…ë°ì´íŠ¸ (expo-updates) |

> **project-init ì¡°ê±´ë¶€ ë§¤í•‘ ë¯¸ì§€ì› â€” ìˆ˜ë™ ì„¤ì¹˜ í•„ìš”**: RevenueCat (`react-native-purchases`). ì¡°ê±´ë¶€ ì˜ì¡´ì„± í…Œì´ë¸”ì— RevenueCatì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë‚˜, ì‹¤ì œ scaffold ì‹œ ìˆ˜ë™ í™•ì¸ ê¶Œì¥.

### 7-2. ì‹œìŠ¤í…œ êµ¬ì¡°ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í´ë¼ì´ì–¸íŠ¸ (Expo App)                       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Expo     â”‚  â”‚ React    â”‚  â”‚ Zustand  â”‚  â”‚ ë¡œì»¬ ì €ì¥ì†Œ       â”‚ â”‚
â”‚  â”‚ Router   â”‚  â”‚ Native   â”‚  â”‚ Stores   â”‚  â”‚                  â”‚ â”‚
â”‚  â”‚ (ë¼ìš°íŒ…)  â”‚  â”‚ Paper    â”‚  â”‚ (ìƒíƒœ)    â”‚  â”‚ MMKV: ì„¤ì •/í† í°  â”‚ â”‚
â”‚  â”‚          â”‚  â”‚ (UI)     â”‚  â”‚          â”‚  â”‚ op-sqlite: ìºì‹œ  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                  â”‚           â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”    â”‚
â”‚                              â”‚      Supabase Client SDK      â”‚    â”‚
â”‚                              â”‚   (supabase-js + Auth Helper) â”‚    â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ RevenueCat   â”‚  â”‚ expo-    â”‚  â”‚ Sync Queue    â”‚              â”‚
â”‚  â”‚ (ê²°ì œ)        â”‚  â”‚ notifi-  â”‚  â”‚ (ì˜¤í”„ë¼ì¸â†’ì„œë²„) â”‚              â”‚
â”‚  â”‚              â”‚  â”‚ cations  â”‚  â”‚               â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ HTTPS
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Supabase Cloud                             â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Supabase     â”‚  â”‚ PostgREST    â”‚  â”‚ Edge Functions       â”‚   â”‚
â”‚  â”‚ Auth         â”‚  â”‚ (REST API)   â”‚  â”‚ (Deno)               â”‚   â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                      â”‚   â”‚
â”‚  â”‚ - Kakao      â”‚  â”‚ - CRUD       â”‚  â”‚ - generate-plan      â”‚   â”‚
â”‚  â”‚ - Google     â”‚  â”‚ - RLS ì ìš©    â”‚  â”‚ - weekly-report      â”‚   â”‚
â”‚  â”‚ - Apple      â”‚  â”‚              â”‚  â”‚ - delete-account     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                      â”‚               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                    â”‚         PostgreSQL                  â”‚        â”‚
â”‚                    â”‚                                     â”‚        â”‚
â”‚                    â”‚  profiles â”‚ routines â”‚ checkins     â”‚        â”‚
â”‚                    â”‚  daily_plans â”‚ plan_items           â”‚        â”‚
â”‚                    â”‚  reflections â”‚ subscriptions        â”‚        â”‚
â”‚                    â”‚                                     â”‚        â”‚
â”‚                    â”‚  RLS: auth.uid() = user_id          â”‚        â”‚
â”‚                    â”‚  DB Functions (RPC)                  â”‚        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ Supabase     â”‚  â”‚ Supabase     â”‚                              â”‚
â”‚  â”‚ Storage      â”‚  â”‚ Realtime     â”‚                              â”‚
â”‚  â”‚ (ë¯¸ë˜ í™•ì¥)   â”‚  â”‚ (ë¯¸ë˜ í™•ì¥)   â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì„œë¹„ìŠ¤:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Kakao    â”‚  â”‚ Google   â”‚  â”‚ Apple    â”‚
  â”‚ OAuth    â”‚  â”‚ OAuth    â”‚  â”‚ Auth     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ RevenueCatâ”‚  â”‚ Aptabase â”‚
  â”‚ (ê²°ì œ)    â”‚  â”‚ (ë¶„ì„)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ë°ì´í„° íë¦„

1. **ì²´í¬ì¸ íë¦„**: ì‚¬ìš©ì ì…ë ¥ â†’ Zustand Store ê°±ì‹  â†’ op-sqlite ë¡œì»¬ ìºì‹œ â†’ Supabase REST INSERT â†’ Sync Queue (ì˜¤í”„ë¼ì¸ ì‹œ)
2. **í”Œëœ ìƒì„± íë¦„**: ì²´í¬ì¸ ì™„ë£Œ â†’ Edge Function `generate-plan` í˜¸ì¶œ â†’ ê·œì¹™ ê¸°ë°˜ ë£¨í‹´ ì„ ë³„ â†’ daily_plans/plan_items INSERT â†’ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µ â†’ Zustand/op-sqlite ê°±ì‹ 
3. **ì£¼ê°„ ë¦¬í¬íŠ¸ íë¦„**: ë¦¬í¬íŠ¸ íƒ­ ì§„ì… â†’ Edge Function `weekly-report` í˜¸ì¶œ â†’ DB Function `get_weekly_stats` RPC â†’ í†µê³„ ë°ì´í„° ì‘ë‹µ â†’ Victory Native ì°¨íŠ¸ ë Œë”ë§
4. **ì˜¤í”„ë¼ì¸ íë¦„**: ë„¤íŠ¸ì›Œí¬ ì—†ìŒ ê°ì§€ â†’ op-sqliteì—ì„œ ë¡œì»¬ ë°ì´í„° ì¡°íšŒ â†’ ì²´í¬ì¸/ì™„ë£Œ ì²´í¬ëŠ” Sync Queueì— ì ì¬ â†’ ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìˆœì°¨ ë™ê¸°í™”

### 7-3. ì˜¤í”„ë¼ì¸ ìš°ì„  ì„¤ê³„

#### ì €ì¥ì†Œë³„ ì—­í•  ë¶„ë‹´

| ì €ì¥ì†Œ | ì €ì¥ ë°ì´í„° | ì´ìœ  |
|--------|-----------|------|
| **MMKV** | Auth í† í°, ì‚¬ìš©ì ì„¤ì •(ì•Œë¦¼ ì‹œê°„, í…Œë§ˆ), ì˜¨ë³´ë”© ì™„ë£Œ í”Œë˜ê·¸, ë§ˆì§€ë§‰ ë™ê¸°í™” íƒ€ì„ìŠ¤íƒ¬í”„, êµ¬ë… ìƒíƒœ ìºì‹œ | ë™ê¸°ì‹ ì½ê¸°/ì“°ê¸°ë¡œ ì•± ì‹œì‘ ì‹œ ì¦‰ì‹œ ì ‘ê·¼. ì•”í˜¸í™” ëª¨ë“œë¡œ í† í° ë³´ì•ˆ |
| **op-sqlite** | ì˜¤ëŠ˜ì˜ ì²´í¬ì¸, ì˜¤ëŠ˜ì˜ í”Œëœ+ì•„ì´í…œ, ë£¨í‹´ í’€ ìºì‹œ, ìµœê·¼ 7ì¼ ì²´í¬ì¸/ë‹¬ì„± ë°ì´í„°, ë™ê¸°í™” í | êµ¬ì¡°í™”ëœ ë°ì´í„°ì˜ ì¡°íšŒ/í•„í„°ë§ í•„ìš”. SQL ê¸°ë°˜ ì¿¼ë¦¬ë¡œ ì£¼ê°„ ë¦¬í¬íŠ¸ ë¡œì»¬ ê³„ì‚° ê°€ëŠ¥ |
| **Supabase (ì„œë²„)** | ì „ì²´ ë°ì´í„° ì›ë³¸ (profiles, routines, checkins, daily_plans, plan_items, reflections, subscriptions) | Single Source of Truth. RLSë¡œ ì‚¬ìš©ìë³„ ê²©ë¦¬ |

#### op-sqlite ë¡œì»¬ ìŠ¤í‚¤ë§ˆ (ìºì‹œìš©)

```sql
-- ë™ê¸°í™” í
CREATE TABLE sync_queue (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  action TEXT NOT NULL,        -- 'INSERT' | 'UPDATE' | 'DELETE'
  table_name TEXT NOT NULL,    -- ëŒ€ìƒ ì„œë²„ í…Œì´ë¸”
  payload TEXT NOT NULL,       -- JSON ì§ë ¬í™”ëœ ë°ì´í„°
  created_at TEXT NOT NULL,    -- ISO 8601
  retry_count INTEGER DEFAULT 0,
  last_error TEXT
);

-- ì²´í¬ì¸ ìºì‹œ
CREATE TABLE local_checkins (
  id TEXT PRIMARY KEY,
  date TEXT NOT NULL,
  energy_level INTEGER NOT NULL,
  sleep_hours REAL NOT NULL,
  mood TEXT NOT NULL,
  synced INTEGER DEFAULT 0
);

-- í”Œëœ ìºì‹œ
CREATE TABLE local_daily_plans (
  id TEXT PRIMARY KEY,
  date TEXT NOT NULL,
  checkin_id TEXT,
  total_duration_min INTEGER,
  completed_count INTEGER DEFAULT 0,
  total_count INTEGER DEFAULT 0,
  completion_rate INTEGER DEFAULT 0,
  synced INTEGER DEFAULT 0
);

-- í”Œëœ ì•„ì´í…œ ìºì‹œ
CREATE TABLE local_plan_items (
  id TEXT PRIMARY KEY,
  plan_id TEXT NOT NULL,
  routine_id TEXT NOT NULL,
  sort_order INTEGER NOT NULL,
  is_completed INTEGER DEFAULT 0,
  synced INTEGER DEFAULT 0
);

-- ë£¨í‹´ í’€ ìºì‹œ
CREATE TABLE local_routines (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  category TEXT NOT NULL,
  duration_min INTEGER NOT NULL,
  energy_required INTEGER NOT NULL,
  is_template INTEGER DEFAULT 0,
  is_active INTEGER DEFAULT 1
);
```

#### ë™ê¸°í™” í ë¡œì§

```
[ì˜¤í”„ë¼ì¸ ì•¡ì…˜ ë°œìƒ]
       â”‚
       â–¼
 sync_queueì— INSERT
 (action, table_name, payload, created_at)
       â”‚
       â–¼
 [ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€] â”€â”€â”€â”€ ì˜¤í”„ë¼ì¸ â†’ ëŒ€ê¸°
       â”‚
    ì˜¨ë¼ì¸
       â–¼
 sync_queueë¥¼ created_at ASC ìˆœì„œë¡œ ì¡°íšŒ
       â”‚
       â–¼
 ê° í•­ëª©ì„ Supabase APIë¡œ ì „ì†¡
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
 ì„±ê³µ      ì‹¤íŒ¨
   â”‚        â”‚
   â–¼        â–¼
 í•´ë‹¹ í–‰   retry_count++
 DELETE    last_error ê¸°ë¡
            â”‚
       retry_count < 5?
       â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      ì˜ˆ         ì•„ë‹ˆì˜¤
       â”‚          â”‚
       â–¼          â–¼
  ì§€ìˆ˜ ë°±ì˜¤í”„    ì‚¬ìš©ìì—ê²Œ
  ì¬ì‹œë„         ì—ëŸ¬ ì•Œë¦¼
  (1s, 2s,      í•´ë‹¹ í•­ëª©
   4s, 8s,      í”Œë˜ê·¸ ì²˜ë¦¬
   16s)
```

**ë™ê¸°í™” ì •ì±…:**
- **ì¬ì‹œë„ íšŸìˆ˜**: ìµœëŒ€ 5íšŒ
- **ë°±ì˜¤í”„ ì „ëµ**: ì§€ìˆ˜ ë°±ì˜¤í”„ (1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ â†’ 8ì´ˆ â†’ 16ì´ˆ)
- **ë°°ì¹˜ í¬ê¸°**: í í•­ëª©ì„ ìµœëŒ€ 10ê°œì”© ë°°ì¹˜ ì „ì†¡
- **ë™ê¸°í™” íŠ¸ë¦¬ê±°**: ì•± í¬ê·¸ë¼ìš´ë“œ ì§„ì… ì‹œ, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë³€ê²½ ì‹œ, ì‚¬ìš©ì ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ì‹œ

#### ì¶©ëŒ í•´ê²° ì •ì±…: Server Wins

| ì‹œë‚˜ë¦¬ì˜¤ | í•´ê²° ë°©ì‹ |
|---------|----------|
| ì˜¤í”„ë¼ì¸ ì²´í¬ì¸ â†’ ì„œë²„ì— ì´ë¯¸ í•´ë‹¹ ë‚ ì§œ ì²´í¬ì¸ ì¡´ì¬ | ì„œë²„ ë°ì´í„° ìœ ì§€, ë¡œì»¬ ë°ì´í„° íê¸°. ì‚¬ìš©ìì—ê²Œ "ì´ë¯¸ ì²´í¬ì¸í•œ ë‚ ì§œ" ì•ˆë‚´ |
| ì˜¤í”„ë¼ì¸ ë£¨í‹´ ì™„ë£Œ ì²´í¬ â†’ ì„œë²„ í”Œëœì´ ë³€ê²½ë¨ | ì„œë²„ í”Œëœ ê¸°ì¤€ìœ¼ë¡œ ë¡œì»¬ ê°±ì‹ . ì™„ë£Œ ì²´í¬ëŠ” plan_item_id ê¸°ì¤€ìœ¼ë¡œ ë§¤í•‘ ì‹œë„, ë§¤í•‘ ì‹¤íŒ¨ ì‹œ íê¸° |
| ì˜¤í”„ë¼ì¸ ë£¨í‹´ ìˆ˜ì • â†’ ì„œë²„ì—ì„œ ë™ì¼ ë£¨í‹´ ìˆ˜ì •ë¨ | Server Wins. ì„œë²„ updated_atì´ ë” ìµœì‹ ì´ë©´ ì„œë²„ ë°ì´í„° ì±„íƒ |

**ê·¼ê±°**: 1ì¸ ì‚¬ìš©ì ì•±ì—ì„œ ë©€í‹° ë””ë°”ì´ìŠ¤ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ë‚®ê³ , ì„œë²„ë¥¼ Single Source of Truthë¡œ ìœ ì§€í•˜ë©´ ë™ê¸°í™” ë¡œì§ì´ ë‹¨ìˆœí•´ì§„ë‹¤.

### 7-4. í•µì‹¬ ì„¤ê³„ ì›ì¹™

1. **Offline-First, Server-Truth**: ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ì€ ì˜¤í”„ë¼ì¸ì—ì„œ ì‘ë™í•˜ë˜, ì„œë²„ê°€ ìµœì¢… ë°ì´í„° ê¶Œìœ„ë¥¼ ê°–ëŠ”ë‹¤. ì‚¬ìš©ìê°€ ì§€í•˜ì² /ë¹„í–‰ê¸°ì—ì„œë„ ì²´í¬ì¸Â·í”Œëœ ì¡°íšŒÂ·ë£¨í‹´ ì™„ë£Œê°€ ê°€ëŠ¥í•˜ë‹¤.

2. **ê·œì¹™ ê¸°ë°˜ ì ì‘ (Rule-Based Adaptation)**: í”Œëœ ìƒì„± ì•Œê³ ë¦¬ì¦˜ì€ ì™¸ë¶€ AI API ì—†ì´ ê·œì¹™ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•œë‹¤. ì—ë„ˆì§€ ë ˆë²¨Â·ê¸°ë¶„Â·ê³¼ê±° ë‹¬ì„±ë¥ ì„ ê°€ì¤‘ì¹˜ë¡œ ë£¨í‹´ì„ ìŠ¤ì½”ì–´ë§í•˜ì—¬ ì„ ë³„í•œë‹¤. ì™¸ë¶€ ì˜ì¡´ì„± ì œê±°ë¡œ ë¹„ìš© 0ì›, ì‘ë‹µ ì‹œê°„ ì˜ˆì¸¡ ê°€ëŠ¥.

3. **Progressive Paywall**: í•µì‹¬ ê°€ì¹˜(ì²´í¬ì¸ â†’ ì ì‘í˜• í”Œëœ â†’ ì£¼ê°„ ë¦¬í¬íŠ¸)ëŠ” ë¬´ë£Œë¡œ ì œê³µí•˜ì—¬ ì‚¬ìš©ìê°€ ê°€ì¹˜ë¥¼ ì²´ê°í•œ í›„ ìœ ë£Œ ì „í™˜. ë¬´ë£Œ í•œë„(ë£¨í‹´ 5ê°œ)ëŠ” "ë¶ˆí¸í•¨"ì´ ì•„ë‹Œ "ë” ë§ì€ ê°€ì¹˜"ë¡œ ì—…ì…€ ìœ ë„.

4. **Minimal Schema, Maximum Insight**: DB ìŠ¤í‚¤ë§ˆë¥¼ ìµœì†Œí•œìœ¼ë¡œ ìœ ì§€í•˜ë˜, PostgreSQL Functionìœ¼ë¡œ í’ë¶€í•œ í†µê³„/ì¸ì‚¬ì´íŠ¸ë¥¼ íŒŒìƒí•œë‹¤. í…Œì´ë¸” 8ê°œ ì´ë‚´, í•µì‹¬ RPC 3ê°œë¡œ MVP ì „ì²´ë¥¼ ì»¤ë²„.

5. **Edge-First Compute**: ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(í”Œëœ ìƒì„±, ì£¼ê°„ ë¦¬í¬íŠ¸ ê³„ì‚°)ì€ Edge Functionì—ì„œ ì²˜ë¦¬í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ë¶€ë‹´ì„ ì¤„ì´ê³ , ë¡œì§ ë³€ê²½ ì‹œ ì•± ì—…ë°ì´íŠ¸ ì—†ì´ ì„œë²„ ë°°í¬ë§Œìœ¼ë¡œ ë°˜ì˜.

### 7-5. DB ìŠ¤í‚¤ë§ˆ

#### í…Œì´ë¸” ì •ì˜

```sql
-- ============================================================
-- 1. profiles: ì‚¬ìš©ì í”„ë¡œí•„
-- ============================================================
CREATE TABLE profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  nickname TEXT NOT NULL DEFAULT '',
  onboarding_completed BOOLEAN NOT NULL DEFAULT FALSE,
  checkin_reminder_time TIME DEFAULT '07:00:00',
  timezone TEXT NOT NULL DEFAULT 'Asia/Seoul',
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX idx_profiles_created_at ON profiles(created_at);

-- ============================================================
-- 2. subscriptions: êµ¬ë… ìƒíƒœ (RevenueCat ë™ê¸°í™”)
-- ============================================================
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  plan_type TEXT NOT NULL DEFAULT 'free' CHECK (plan_type IN ('free', 'monthly', 'yearly')),
  status TEXT NOT NULL DEFAULT 'active' CHECK (status IN ('active', 'expired', 'cancelled')),
  revenucat_id TEXT,
  started_at TIMESTAMPTZ,
  expires_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  UNIQUE(user_id)
);

CREATE INDEX idx_subscriptions_user_id ON subscriptions(user_id);
CREATE INDEX idx_subscriptions_status ON subscriptions(status);

-- ============================================================
-- 3. routine_categories: ë£¨í‹´ ì¹´í…Œê³ ë¦¬ (ì‹œìŠ¤í…œ ì •ì˜)
-- ============================================================
CREATE TABLE routine_categories (
  id TEXT PRIMARY KEY,              -- 'exercise', 'reading', 'meditation', 'study', 'selfcare', 'other'
  name TEXT NOT NULL,               -- 'ìš´ë™', 'ë…ì„œ', 'ëª…ìƒ', 'í•™ìŠµ', 'ì…€í”„ì¼€ì–´', 'ê¸°íƒ€'
  icon TEXT NOT NULL DEFAULT 'ğŸ“‹',
  sort_order INTEGER NOT NULL DEFAULT 0,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- ============================================================
-- 4. routines: ì‚¬ìš©ì ë£¨í‹´ í’€
-- ============================================================
CREATE TABLE routines (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  category_id TEXT NOT NULL REFERENCES routine_categories(id),
  name TEXT NOT NULL,
  description TEXT DEFAULT '',
  duration_min INTEGER NOT NULL CHECK (duration_min > 0 AND duration_min <= 180),
  energy_required INTEGER NOT NULL CHECK (energy_required >= 1 AND energy_required <= 5),
  is_template BOOLEAN NOT NULL DEFAULT FALSE,
  is_active BOOLEAN NOT NULL DEFAULT TRUE,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX idx_routines_user_id ON routines(user_id);
CREATE INDEX idx_routines_user_active ON routines(user_id, is_active);
CREATE INDEX idx_routines_category ON routines(category_id);
CREATE INDEX idx_routines_energy ON routines(energy_required);

-- ============================================================
-- 5. checkins: ì•„ì¹¨ ì²´í¬ì¸
-- ============================================================
CREATE TABLE checkins (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  energy_level INTEGER NOT NULL CHECK (energy_level >= 1 AND energy_level <= 5),
  sleep_hours NUMERIC(3,1) NOT NULL CHECK (sleep_hours >= 0 AND sleep_hours <= 12),
  mood TEXT NOT NULL CHECK (mood IN ('good', 'neutral', 'bad')),
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  UNIQUE(user_id, date)
);

CREATE INDEX idx_checkins_user_date ON checkins(user_id, date DESC);

-- ============================================================
-- 6. daily_plans: ì¼ì¼ í”Œëœ
-- ============================================================
CREATE TABLE daily_plans (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  checkin_id UUID REFERENCES checkins(id) ON DELETE SET NULL,
  energy_level_used INTEGER,          -- í”Œëœ ìƒì„± ì‹œ ì‚¬ìš©ëœ ì—ë„ˆì§€ ë ˆë²¨
  total_duration_min INTEGER DEFAULT 0,
  completed_count INTEGER DEFAULT 0,
  total_count INTEGER DEFAULT 0,
  completion_rate INTEGER DEFAULT 0,  -- 0~100 ì •ìˆ˜
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  UNIQUE(user_id, date)
);

CREATE INDEX idx_daily_plans_user_date ON daily_plans(user_id, date DESC);

-- ============================================================
-- 7. plan_items: í”Œëœ ë‚´ ë£¨í‹´ ì•„ì´í…œ
-- ============================================================
CREATE TABLE plan_items (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  plan_id UUID NOT NULL REFERENCES daily_plans(id) ON DELETE CASCADE,
  routine_id UUID NOT NULL REFERENCES routines(id) ON DELETE CASCADE,
  sort_order INTEGER NOT NULL DEFAULT 0,
  is_completed BOOLEAN NOT NULL DEFAULT FALSE,
  completed_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX idx_plan_items_plan_id ON plan_items(plan_id);
CREATE INDEX idx_plan_items_routine_id ON plan_items(routine_id);

-- ============================================================
-- 8. reflections: ì €ë… íšŒê³  (P1)
-- ============================================================
CREATE TABLE reflections (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  plan_id UUID NOT NULL REFERENCES daily_plans(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  content TEXT NOT NULL DEFAULT '' CHECK (char_length(content) <= 200),
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  UNIQUE(user_id, date)
);

CREATE INDEX idx_reflections_user_date ON reflections(user_id, date DESC);

-- ============================================================
-- updated_at ìë™ ê°±ì‹  íŠ¸ë¦¬ê±°
-- ============================================================
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = now();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_profiles_updated_at
  BEFORE UPDATE ON profiles
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER trg_subscriptions_updated_at
  BEFORE UPDATE ON subscriptions
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER trg_routines_updated_at
  BEFORE UPDATE ON routines
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER trg_daily_plans_updated_at
  BEFORE UPDATE ON daily_plans
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER trg_plan_items_updated_at
  BEFORE UPDATE ON plan_items
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER trg_reflections_updated_at
  BEFORE UPDATE ON reflections
  FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
```

#### RLS ì •ì±… â€” CRUD ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤

| í…Œì´ë¸” | SELECT | INSERT | UPDATE | DELETE | ì •ì±… |
|--------|--------|--------|--------|--------|------|
| profiles | `auth.uid() = id` | ìë™ (íŠ¸ë¦¬ê±°) | `auth.uid() = id` | ë¶ˆê°€ (Edge Function) | ë³¸ì¸ í”„ë¡œí•„ë§Œ ì¡°íšŒ/ìˆ˜ì • |
| subscriptions | `auth.uid() = user_id` | Service Role Only | Service Role Only | ë¶ˆê°€ | ì„œë²„ì—ì„œë§Œ êµ¬ë… ê´€ë¦¬ |
| routine_categories | ëª¨ë“  ì¸ì¦ ì‚¬ìš©ì | ë¶ˆê°€ | ë¶ˆê°€ | ë¶ˆê°€ | ì‹œìŠ¤í…œ ì •ì˜, ì½ê¸°ë§Œ |
| routines | `auth.uid() = user_id` | `auth.uid() = user_id` | `auth.uid() = user_id` | `auth.uid() = user_id` | ë³¸ì¸ ë£¨í‹´ CRUD |
| checkins | `auth.uid() = user_id` | `auth.uid() = user_id` | `auth.uid() = user_id` | ë¶ˆê°€ | ë³¸ì¸ ì²´í¬ì¸ ì¡°íšŒ/ìƒì„±/ìˆ˜ì • |
| daily_plans | `auth.uid() = user_id` | `auth.uid() = user_id` | `auth.uid() = user_id` | ë¶ˆê°€ | ë³¸ì¸ í”Œëœ ì¡°íšŒ/ìƒì„±/ìˆ˜ì • |
| plan_items | `plan_id â†’ daily_plans.user_id = auth.uid()` | `plan_id â†’ daily_plans.user_id = auth.uid()` | `plan_id â†’ daily_plans.user_id = auth.uid()` | `plan_id â†’ daily_plans.user_id = auth.uid()` | ë³¸ì¸ í”Œëœì˜ ì•„ì´í…œë§Œ |
| reflections | `auth.uid() = user_id` | `auth.uid() = user_id` | `auth.uid() = user_id` | ë¶ˆê°€ | ë³¸ì¸ íšŒê³  ì¡°íšŒ/ìƒì„±/ìˆ˜ì • |

```sql
-- RLS í™œì„±í™”
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE routine_categories ENABLE ROW LEVEL SECURITY;
ALTER TABLE routines ENABLE ROW LEVEL SECURITY;
ALTER TABLE checkins ENABLE ROW LEVEL SECURITY;
ALTER TABLE daily_plans ENABLE ROW LEVEL SECURITY;
ALTER TABLE plan_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE reflections ENABLE ROW LEVEL SECURITY;

-- profiles
CREATE POLICY "profiles_select_own" ON profiles FOR SELECT USING (auth.uid() = id);
CREATE POLICY "profiles_update_own" ON profiles FOR UPDATE USING (auth.uid() = id);

-- subscriptions (ì„œë²„ ì „ìš© ì“°ê¸°)
CREATE POLICY "subscriptions_select_own" ON subscriptions FOR SELECT USING (auth.uid() = user_id);

-- routine_categories (ëª¨ë“  ì¸ì¦ ì‚¬ìš©ì ì½ê¸°)
CREATE POLICY "categories_select_all" ON routine_categories FOR SELECT USING (auth.role() = 'authenticated');

-- routines
CREATE POLICY "routines_select_own" ON routines FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "routines_insert_own" ON routines FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "routines_update_own" ON routines FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "routines_delete_own" ON routines FOR DELETE USING (auth.uid() = user_id);

-- checkins
CREATE POLICY "checkins_select_own" ON checkins FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "checkins_insert_own" ON checkins FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "checkins_update_own" ON checkins FOR UPDATE USING (auth.uid() = user_id);

-- daily_plans
CREATE POLICY "plans_select_own" ON daily_plans FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "plans_insert_own" ON daily_plans FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "plans_update_own" ON daily_plans FOR UPDATE USING (auth.uid() = user_id);

-- plan_items (í”Œëœ ì†Œìœ ì í™•ì¸ì„ ìœ„í•œ ì„œë¸Œì¿¼ë¦¬)
CREATE POLICY "plan_items_select_own" ON plan_items FOR SELECT
  USING (EXISTS (SELECT 1 FROM daily_plans WHERE daily_plans.id = plan_items.plan_id AND daily_plans.user_id = auth.uid()));
CREATE POLICY "plan_items_insert_own" ON plan_items FOR INSERT
  WITH CHECK (EXISTS (SELECT 1 FROM daily_plans WHERE daily_plans.id = plan_items.plan_id AND daily_plans.user_id = auth.uid()));
CREATE POLICY "plan_items_update_own" ON plan_items FOR UPDATE
  USING (EXISTS (SELECT 1 FROM daily_plans WHERE daily_plans.id = plan_items.plan_id AND daily_plans.user_id = auth.uid()));
CREATE POLICY "plan_items_delete_own" ON plan_items FOR DELETE
  USING (EXISTS (SELECT 1 FROM daily_plans WHERE daily_plans.id = plan_items.plan_id AND daily_plans.user_id = auth.uid()));

-- reflections
CREATE POLICY "reflections_select_own" ON reflections FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "reflections_insert_own" ON reflections FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "reflections_update_own" ON reflections FOR UPDATE USING (auth.uid() = user_id);
```

#### ì‹ ê·œ ê°€ì… ì‹œ í”„ë¡œí•„ ìë™ ìƒì„± íŠ¸ë¦¬ê±°

```sql
CREATE OR REPLACE FUNCTION handle_new_user()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO profiles (id, nickname, created_at, updated_at)
  VALUES (
    NEW.id,
    COALESCE(NEW.raw_user_meta_data->>'name', ''),
    now(),
    now()
  );

  INSERT INTO subscriptions (user_id, plan_type, status, created_at, updated_at)
  VALUES (
    NEW.id,
    'free',
    'active',
    now(),
    now()
  );

  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION handle_new_user();
```

#### ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ ì‹œë“œ ë°ì´í„°

```sql
INSERT INTO routine_categories (id, name, icon, sort_order) VALUES
  ('exercise',   'ìš´ë™',      'ğŸƒ', 1),
  ('reading',    'ë…ì„œ',      'ğŸ“š', 2),
  ('meditation', 'ëª…ìƒ',      'ğŸ§˜', 3),
  ('study',      'í•™ìŠµ',      'ğŸ“', 4),
  ('selfcare',   'ì…€í”„ì¼€ì–´',  'ğŸŒ¿', 5),
  ('other',      'ê¸°íƒ€',      'ğŸ“‹', 6);
```

#### ê¸°ë³¸ ë£¨í‹´ í…œí”Œë¦¿ ì‹œë“œ í•¨ìˆ˜

```sql
CREATE OR REPLACE FUNCTION seed_default_routines(p_user_id UUID, p_category_ids TEXT[])
RETURNS VOID AS $$
DECLARE
  v_cat TEXT;
BEGIN
  FOREACH v_cat IN ARRAY p_category_ids
  LOOP
    CASE v_cat
      WHEN 'exercise' THEN
        INSERT INTO routines (user_id, category_id, name, duration_min, energy_required, is_template)
        VALUES
          (p_user_id, 'exercise', '5ë¶„ ìŠ¤íŠ¸ë ˆì¹­', 5, 1, TRUE),
          (p_user_id, 'exercise', '15ë¶„ ê°€ë²¼ìš´ ì‚°ì±…', 15, 2, TRUE),
          (p_user_id, 'exercise', '30ë¶„ ìš´ë™', 30, 4, TRUE);
      WHEN 'reading' THEN
        INSERT INTO routines (user_id, category_id, name, duration_min, energy_required, is_template)
        VALUES
          (p_user_id, 'reading', '10ë¶„ ì½ê¸°', 10, 1, TRUE),
          (p_user_id, 'reading', '30ë¶„ ë…ì„œ', 30, 3, TRUE);
      WHEN 'meditation' THEN
        INSERT INTO routines (user_id, category_id, name, duration_min, energy_required, is_template)
        VALUES
          (p_user_id, 'meditation', '3ë¶„ í˜¸í¡', 3, 1, TRUE),
          (p_user_id, 'meditation', '10ë¶„ ëª…ìƒ', 10, 2, TRUE);
      WHEN 'study' THEN
        INSERT INTO routines (user_id, category_id, name, duration_min, energy_required, is_template)
        VALUES
          (p_user_id, 'study', '15ë¶„ ì§‘ì¤‘ í•™ìŠµ', 15, 2, TRUE),
          (p_user_id, 'study', '30ë¶„ ë”¥ì›Œí¬', 30, 4, TRUE);
      WHEN 'selfcare' THEN
        INSERT INTO routines (user_id, category_id, name, duration_min, energy_required, is_template)
        VALUES
          (p_user_id, 'selfcare', 'ë”°ëœ»í•œ ì°¨ í•œì”', 5, 1, TRUE),
          (p_user_id, 'selfcare', 'ì¢‹ì•„í•˜ëŠ” ìŒì•… ë“£ê¸°', 10, 1, TRUE);
      ELSE
        -- ê¸°íƒ€: ê¸°ë³¸ í…œí”Œë¦¿ ì—†ìŒ
        NULL;
    END CASE;
  END LOOP;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

#### í•µì‹¬ DB Function â€” get_weekly_stats (ì£¼ê°„ ë¦¬í¬íŠ¸)

```sql
CREATE OR REPLACE FUNCTION get_weekly_stats(p_user_id UUID, p_end_date DATE DEFAULT CURRENT_DATE)
RETURNS JSON AS $$
DECLARE
  v_start_date DATE;
  v_result JSON;
BEGIN
  v_start_date := p_end_date - INTERVAL '6 days';

  SELECT json_build_object(
    'period', json_build_object(
      'start_date', v_start_date,
      'end_date', p_end_date
    ),
    'daily_data', (
      SELECT COALESCE(json_agg(daily ORDER BY daily.date), '[]'::json)
      FROM (
        SELECT
          c.date,
          c.energy_level,
          c.sleep_hours,
          c.mood,
          COALESCE(dp.completion_rate, 0) AS completion_rate,
          COALESCE(dp.completed_count, 0) AS completed_count,
          COALESCE(dp.total_count, 0) AS total_count
        FROM checkins c
        LEFT JOIN daily_plans dp ON dp.user_id = c.user_id AND dp.date = c.date
        WHERE c.user_id = p_user_id
          AND c.date BETWEEN v_start_date AND p_end_date
      ) daily
    ),
    'summary', (
      SELECT json_build_object(
        'total_days', COUNT(*),
        'avg_energy', ROUND(AVG(c.energy_level), 1),
        'avg_sleep', ROUND(AVG(c.sleep_hours), 1),
        'avg_completion_rate', ROUND(AVG(COALESCE(dp.completion_rate, 0))),
        'mood_distribution', json_build_object(
          'good', COUNT(*) FILTER (WHERE c.mood = 'good'),
          'neutral', COUNT(*) FILTER (WHERE c.mood = 'neutral'),
          'bad', COUNT(*) FILTER (WHERE c.mood = 'bad')
        )
      )
      FROM checkins c
      LEFT JOIN daily_plans dp ON dp.user_id = c.user_id AND dp.date = c.date
      WHERE c.user_id = p_user_id
        AND c.date BETWEEN v_start_date AND p_end_date
    ),
    'insights', (
      SELECT COALESCE(json_agg(insight), '[]'::json)
      FROM (
        -- ì¸ì‚¬ì´íŠ¸ 1: ì—ë„ˆì§€ ë ˆë²¨ë³„ í‰ê·  ë‹¬ì„±ë¥ 
        SELECT json_build_object(
          'type', 'energy_completion_correlation',
          'threshold', threshold.val,
          'avg_completion', ROUND(AVG(COALESCE(dp.completion_rate, 0))),
          'day_count', COUNT(*)
        ) AS insight
        FROM checkins c
        LEFT JOIN daily_plans dp ON dp.user_id = c.user_id AND dp.date = c.date
        CROSS JOIN (SELECT 3 AS val) threshold
        WHERE c.user_id = p_user_id
          AND c.date BETWEEN v_start_date AND p_end_date
          AND c.energy_level >= threshold.val
        GROUP BY threshold.val
        HAVING COUNT(*) >= 1

        UNION ALL

        -- ì¸ì‚¬ì´íŠ¸ 2: ìˆ˜ë©´ ì‹œê°„ê³¼ ì—ë„ˆì§€ì˜ ìƒê´€
        SELECT json_build_object(
          'type', 'sleep_energy_correlation',
          'avg_sleep_high_energy', ROUND(AVG(c.sleep_hours) FILTER (WHERE c.energy_level >= 4), 1),
          'avg_sleep_low_energy', ROUND(AVG(c.sleep_hours) FILTER (WHERE c.energy_level <= 2), 1),
          'day_count', COUNT(*)
        ) AS insight
        FROM checkins c
        WHERE c.user_id = p_user_id
          AND c.date BETWEEN v_start_date AND p_end_date
        HAVING COUNT(*) >= 3
      ) insights_data
    )
  ) INTO v_result;

  RETURN v_result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

#### í•µì‹¬ DB Function â€” get_user_routine_count (ë¬´ë£Œ í•œë„ í™•ì¸)

```sql
CREATE OR REPLACE FUNCTION get_user_routine_count(p_user_id UUID)
RETURNS JSON AS $$
DECLARE
  v_custom_count INTEGER;
  v_template_count INTEGER;
  v_plan_type TEXT;
  v_max_custom INTEGER;
BEGIN
  SELECT COUNT(*) INTO v_custom_count
  FROM routines
  WHERE user_id = p_user_id AND is_template = FALSE AND is_active = TRUE;

  SELECT COUNT(*) INTO v_template_count
  FROM routines
  WHERE user_id = p_user_id AND is_template = TRUE AND is_active = TRUE;

  SELECT s.plan_type INTO v_plan_type
  FROM subscriptions s
  WHERE s.user_id = p_user_id AND s.status = 'active';

  v_max_custom := CASE
    WHEN v_plan_type IN ('monthly', 'yearly') THEN 999999  -- ë¬´ì œí•œ
    ELSE 5  -- ë¬´ë£Œ
  END;

  RETURN json_build_object(
    'custom_count', v_custom_count,
    'template_count', v_template_count,
    'total_count', v_custom_count + v_template_count,
    'max_custom', v_max_custom,
    'can_create', v_custom_count < v_max_custom,
    'plan_type', COALESCE(v_plan_type, 'free')
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

#### í•µì‹¬ DB Function â€” get_recent_avg_condition (ì²´í¬ì¸ ìŠ¤í‚µ ì‹œ ê¸°ë³¸ê°’)

```sql
CREATE OR REPLACE FUNCTION get_recent_avg_condition(p_user_id UUID, p_days INTEGER DEFAULT 7)
RETURNS JSON AS $$
DECLARE
  v_result JSON;
BEGIN
  SELECT json_build_object(
    'avg_energy', COALESCE(ROUND(AVG(energy_level)), 3),
    'avg_sleep', COALESCE(ROUND(AVG(sleep_hours), 1), 7.0),
    'most_common_mood', COALESCE(
      (SELECT mood FROM checkins
       WHERE user_id = p_user_id AND date > CURRENT_DATE - p_days
       GROUP BY mood ORDER BY COUNT(*) DESC LIMIT 1),
      'neutral'
    ),
    'data_count', COUNT(*)
  ) INTO v_result
  FROM checkins
  WHERE user_id = p_user_id
    AND date > CURRENT_DATE - p_days;

  RETURN v_result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

### 7-6. API ì„¤ê³„

#### REST vs Edge Function ì„ íƒ ê¸°ì¤€

| ê¸°ì¤€ | Supabase REST (PostgREST) | Edge Function (Deno) |
|------|--------------------------|---------------------|
| ë‹¨ìˆœ CRUD | âœ… ì‚¬ìš© | â€” |
| ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨ | â€” | âœ… ì‚¬ìš© |
| ë‹¤ì¤‘ í…Œì´ë¸” íŠ¸ëœì­ì…˜ | â€” | âœ… ì‚¬ìš© |
| ì™¸ë¶€ API í˜¸ì¶œ í•„ìš” | â€” | âœ… ì‚¬ìš© |
| RPC (DB Function í˜¸ì¶œ) | âœ… ì‚¬ìš© | â€” |

#### ì—”ë“œí¬ì¸íŠ¸ ì „ì²´ ëª©ë¡

| # | ê²½ë¡œ | ë©”ì„œë“œ | ì„¤ëª… | êµ¬í˜„ ë°©ì‹ |
|---|------|--------|------|-----------|
| 1 | `/rest/v1/profiles` | GET | ë³¸ì¸ í”„ë¡œí•„ ì¡°íšŒ | REST + RLS |
| 2 | `/rest/v1/profiles?id=eq.{uid}` | PATCH | í”„ë¡œí•„ ìˆ˜ì • (ë‹‰ë„¤ì„, ì•Œë¦¼ì‹œê°„ ë“±) | REST + RLS |
| 3 | `/rest/v1/routine_categories` | GET | ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ | REST + RLS |
| 4 | `/rest/v1/routines` | GET | ë³¸ì¸ ë£¨í‹´ ëª©ë¡ ì¡°íšŒ | REST + RLS |
| 5 | `/rest/v1/routines` | POST | ë£¨í‹´ ìƒì„± | REST + RLS |
| 6 | `/rest/v1/routines?id=eq.{id}` | PATCH | ë£¨í‹´ ìˆ˜ì • | REST + RLS |
| 7 | `/rest/v1/routines?id=eq.{id}` | DELETE | ë£¨í‹´ ì‚­ì œ (is_template=falseë§Œ) | REST + RLS |
| 8 | `/rest/v1/checkins` | POST | ì²´í¬ì¸ ìƒì„± | REST + RLS |
| 9 | `/rest/v1/checkins?date=eq.{date}` | GET | íŠ¹ì • ë‚ ì§œ ì²´í¬ì¸ ì¡°íšŒ | REST + RLS |
| 10 | `/rest/v1/checkins?date=gte.{start}&date=lte.{end}` | GET | ê¸°ê°„ë³„ ì²´í¬ì¸ ì¡°íšŒ | REST + RLS |
| 11 | `/rest/v1/daily_plans?date=eq.{date}&select=*,plan_items(*)` | GET | ì˜¤ëŠ˜ì˜ í”Œëœ + ì•„ì´í…œ ì¡°íšŒ | REST + RLS |
| 12 | `/rest/v1/plan_items?id=eq.{id}` | PATCH | ë£¨í‹´ ì™„ë£Œ/ë¯¸ì™„ë£Œ ì²´í¬ | REST + RLS |
| 13 | `/rest/v1/reflections` | POST | ì €ë… íšŒê³  ì‘ì„± | REST + RLS |
| 14 | `/rest/v1/reflections?date=eq.{date}` | GET | íŠ¹ì • ë‚ ì§œ íšŒê³  ì¡°íšŒ | REST + RLS |
| 15 | `/rest/v1/rpc/get_weekly_stats` | POST | ì£¼ê°„ ë¦¬í¬íŠ¸ ë°ì´í„° | RPC |
| 16 | `/rest/v1/rpc/get_user_routine_count` | POST | ë£¨í‹´ ê°œìˆ˜ ë° í•œë„ í™•ì¸ | RPC |
| 17 | `/rest/v1/rpc/get_recent_avg_condition` | POST | ìµœê·¼ í‰ê·  ì»¨ë””ì…˜ (ì²´í¬ì¸ ìŠ¤í‚µ ì‹œ) | RPC |
| 18 | `/rest/v1/rpc/seed_default_routines` | POST | ì˜¨ë³´ë”© ì‹œ ê¸°ë³¸ ë£¨í‹´ ìƒì„± | RPC |
| 19 | `/functions/v1/generate-plan` | POST | ì ì‘í˜• í”Œëœ ìƒì„± | Edge Function |
| 20 | `/functions/v1/delete-account` | POST | ê³„ì • ì‚­ì œ (ì „ì²´ ë°ì´í„° ì œê±°) | Edge Function |

#### TypeScript ì¸í„°í˜ì´ìŠ¤

```typescript
// ============================================================
// ê³µí†µ íƒ€ì…
// ============================================================
type Mood = 'good' | 'neutral' | 'bad';
type PlanType = 'free' | 'monthly' | 'yearly';
type SubscriptionStatus = 'active' | 'expired' | 'cancelled';

// ============================================================
// í”„ë¡œí•„
// ============================================================
interface Profile {
  id: string;
  nickname: string;
  onboarding_completed: boolean;
  checkin_reminder_time: string; // "HH:MM:SS"
  timezone: string;
  created_at: string;
  updated_at: string;
}

interface UpdateProfileRequest {
  nickname?: string;
  onboarding_completed?: boolean;
  checkin_reminder_time?: string;
}

// ============================================================
// ë£¨í‹´
// ============================================================
interface Routine {
  id: string;
  user_id: string;
  category_id: string;
  name: string;
  description: string;
  duration_min: number;
  energy_required: number; // 1-5
  is_template: boolean;
  is_active: boolean;
  created_at: string;
  updated_at: string;
}

interface CreateRoutineRequest {
  category_id: string;
  name: string;
  description?: string;
  duration_min: number;
  energy_required: number;
}

interface UpdateRoutineRequest {
  name?: string;
  category_id?: string;
  description?: string;
  duration_min?: number;
  energy_required?: number;
  is_active?: boolean;
}

// ============================================================
// ì²´í¬ì¸
// ============================================================
interface Checkin {
  id: string;
  user_id: string;
  date: string; // "YYYY-MM-DD"
  energy_level: number; // 1-5
  sleep_hours: number; // 0-12, step 0.5
  mood: Mood;
  created_at: string;
}

interface CreateCheckinRequest {
  date: string;
  energy_level: number;
  sleep_hours: number;
  mood: Mood;
}

// ============================================================
// í”Œëœ
// ============================================================
interface DailyPlan {
  id: string;
  user_id: string;
  date: string;
  checkin_id: string | null;
  energy_level_used: number | null;
  total_duration_min: number;
  completed_count: number;
  total_count: number;
  completion_rate: number; // 0-100
  created_at: string;
  updated_at: string;
  plan_items?: PlanItem[];
}

interface PlanItem {
  id: string;
  plan_id: string;
  routine_id: string;
  sort_order: number;
  is_completed: boolean;
  completed_at: string | null;
  created_at: string;
  updated_at: string;
  routine?: Routine; // join ì‹œ
}

interface UpdatePlanItemRequest {
  is_completed: boolean;
  completed_at?: string | null;
}

// ============================================================
// Edge Function: generate-plan
// ============================================================
interface GeneratePlanRequest {
  checkin_id?: string;   // ì²´í¬ì¸ ID (ìŠ¤í‚µ ì‹œ null)
  date: string;          // "YYYY-MM-DD"
  force?: boolean;       // trueë©´ ê¸°ì¡´ ì™„ë£Œ ê¸°ë¡ì´ ìˆì–´ë„ í”Œëœ ì¬ìƒì„± (ê¸°ë³¸ false)
}

interface GeneratePlanResponse {
  plan: DailyPlan;
  items: PlanItem[];
  has_completed_items?: boolean; // trueë©´ ê¸°ì¡´ í”Œëœì— ì™„ë£Œ í•­ëª© ì¡´ì¬ â€” í´ë¼ì´ì–¸íŠ¸ê°€ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ í›„ force=trueë¡œ ì¬í˜¸ì¶œ í•„ìš”
  algorithm_info: {
    energy_level_used: number;
    mood_used: Mood;
    max_routines: number;
    max_duration_min: number;
    routines_considered: number;
    routines_selected: number;
  };
}

// ============================================================
// Edge Function: delete-account
// ============================================================
interface DeleteAccountRequest {
  confirmation: string; // ì‚¬ìš©ìê°€ "ì‚­ì œí•©ë‹ˆë‹¤" ì…ë ¥
}

interface DeleteAccountResponse {
  success: boolean;
  deleted_tables: string[];
}

// ============================================================
// RPC: get_weekly_stats
// ============================================================
interface WeeklyStatsRequest {
  p_user_id: string;
  p_end_date?: string; // "YYYY-MM-DD", ê¸°ë³¸ ì˜¤ëŠ˜
}

interface WeeklyStatsResponse {
  period: {
    start_date: string;
    end_date: string;
  };
  daily_data: Array<{
    date: string;
    energy_level: number;
    sleep_hours: number;
    mood: Mood;
    completion_rate: number;
    completed_count: number;
    total_count: number;
  }>;
  summary: {
    total_days: number;
    avg_energy: number;
    avg_sleep: number;
    avg_completion_rate: number;
    mood_distribution: {
      good: number;
      neutral: number;
      bad: number;
    };
  };
  insights: Array<{
    type: string;
    [key: string]: any;
  }>;
}

// ============================================================
// RPC: get_user_routine_count
// ============================================================
interface RoutineCountResponse {
  custom_count: number;
  template_count: number;
  total_count: number;
  max_custom: number;
  can_create: boolean;
  plan_type: PlanType;
}

// ============================================================
// íšŒê³  (P1)
// ============================================================
interface Reflection {
  id: string;
  user_id: string;
  plan_id: string;
  date: string;
  content: string;
  created_at: string;
  updated_at: string;
}

interface CreateReflectionRequest {
  plan_id: string;
  date: string;
  content: string;
}
```

#### Edge Function â€” generate-plan ë‚´ë¶€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

```
[generate-plan Edge Function]

ì…ë ¥: { checkin_id?, date }

1. ì¸ì¦ ê²€ì¦
   - Authorization í—¤ë”ì—ì„œ JWT ì¶”ì¶œ
   - Supabase Authë¡œ ì‚¬ìš©ì í™•ì¸

2. ì²´í¬ì¸ ë°ì´í„° í™•ë³´
   IF checkin_idê°€ ì œê³µë¨:
     - checkins í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì²´í¬ì¸ ì¡°íšŒ
     - energy_level, sleep_hours, mood ì¶”ì¶œ
   ELSE (ì²´í¬ì¸ ìŠ¤í‚µ):
     - get_recent_avg_condition RPC í˜¸ì¶œ
     - í‰ê·  energy, ìµœë¹ˆ mood ì‚¬ìš©

3. ê¸°ì¡´ í”Œëœ í™•ì¸
   - daily_plansì—ì„œ í•´ë‹¹ dateì˜ í”Œëœ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
   - ì¡´ì¬í•˜ë©´:
     a. ê¸°ì¡´ plan_items ì¤‘ is_completed=trueì¸ í•­ëª©ì´ 1ê°œ ì´ìƒì¸ì§€ í™•ì¸
     b. ì™„ë£Œ í•­ëª©ì´ ìˆìœ¼ë©´ â†’ ì‘ë‹µì— `has_completed_items: true` í”Œë˜ê·¸ ë°˜í™˜, í”Œëœ ì¬ìƒì„±ì„ ì¦‰ì‹œ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ
     c. í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ í”Œë˜ê·¸ë¥¼ ë°›ìœ¼ë©´ "ì´ë¯¸ ì™„ë£Œí•œ ë£¨í‹´ì´ ìˆìŠµë‹ˆë‹¤. í”Œëœì„ ë‹¤ì‹œ ìƒì„±í•˜ë©´ ì™„ë£Œ ê¸°ë¡ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ í‘œì‹œ
     d. ì‚¬ìš©ìê°€ í™•ì¸í•˜ë©´ `force: true` íŒŒë¼ë¯¸í„°ì™€ í•¨ê»˜ ì¬í˜¸ì¶œ â†’ ê¸°ì¡´ í”Œëœ + ì•„ì´í…œ ì‚­ì œ í›„ ì¬ìƒì„±
     e. ì™„ë£Œ í•­ëª©ì´ ì—†ìœ¼ë©´ â†’ ê¸°ì¡´ í”Œëœ + ì•„ì´í…œ ì‚­ì œ í›„ ì¬ìƒì„±

4. ë£¨í‹´ í•„í„°ë§ íŒŒë¼ë¯¸í„° ê²°ì •
   - max_routines: energy 1~2 â†’ 2, energy 3 â†’ 3, energy 4~5 â†’ 5
   - max_duration_min: energy Ã— 20ë¶„ (energy 1 â†’ 20ë¶„, energy 5 â†’ 100ë¶„)
   - energy_threshold: energy 1~2 â†’ 2, energy 3 â†’ 3, energy 4~5 â†’ 5

5. ë£¨í‹´ ìŠ¤ì½”ì–´ë§ ë° ì„ ë³„
   - ì‚¬ìš©ì ë£¨í‹´ í’€ì—ì„œ is_active=trueì¸ ë£¨í‹´ ì¡°íšŒ
   - ê° ë£¨í‹´ì— ì í•©ë„ ìŠ¤ì½”ì–´ ê³„ì‚°:
     score = base_score (10)
           + energy_match_bonus: 5 - |energy_level - energy_required| Ã— 2
             (ì—ë„ˆì§€ ë ˆë²¨ê³¼ í•„ìš” ì—ë„ˆì§€ì˜ ì°¨ì´ê°€ 0ì´ë©´ +5, 1ì´ë©´ +3, 2ì´ë©´ +1, 3 ì´ìƒì´ë©´ 0)
           + mood_bonus: mood='bad'ì´ê³  category='selfcare'ë©´ +3, mood='good'ì´ê³  category='exercise'ë©´ +2
           + recent_completion_bonus: ìµœê·¼ 3ì¼ ì™„ë£Œ ì´ë ¥ ìˆìœ¼ë©´ +1 (ì§€ì†ì„± ë³´ìƒ)
           + variety_bonus: ìµœê·¼ 3ì¼ ë¯¸ì‹¤í–‰ ë£¨í‹´ì´ë©´ +2 (ë‹¤ì–‘ì„± ë³´ì¥)
     ìµœì¢… ìŠ¤ì½”ì–´ ë²”ìœ„: 10~21
   - energy_required > energy_thresholdì¸ ë£¨í‹´ ì œì™¸
   - ìŠ¤ì½”ì–´ DESCë¡œ ì •ë ¬ â†’ max_routinesê°œ ì„ ë³„
   - ì´ durationì´ max_duration_min ì´ˆê³¼í•˜ë©´ ë§ˆì§€ë§‰ ë£¨í‹´ë¶€í„° ì œê±°

6. í”Œëœ ìƒì„±
   - daily_plans INSERT (date, checkin_id, energy_level_used, total_duration_min, total_count)
   - plan_items INSERT (ì„ ë³„ëœ ë£¨í‹´ë³„, sort_order ë¶€ì—¬)

7. ì‘ë‹µ ë°˜í™˜
   - ìƒì„±ëœ plan + items + algorithm_info ë°˜í™˜
```

#### Edge Function â€” delete-account ë‚´ë¶€ ë¡œì§

```
[delete-account Edge Function]

ì…ë ¥: { confirmation: "ì‚­ì œí•©ë‹ˆë‹¤" }

1. ì¸ì¦ ê²€ì¦ + confirmation ë¬¸ìì—´ í™•ì¸
2. íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì•„ë˜ ìˆœì„œ ì‚­ì œ:
   a. plan_items (FK: daily_plans)
   b. reflections (FK: daily_plans)
   c. daily_plans (FK: checkins, profiles)
   d. checkins (FK: profiles)
   e. routines (FK: profiles)
   f. subscriptions (FK: profiles)
   g. profiles (FK: auth.users)
3. Supabase Admin APIë¡œ auth.users ì‚­ì œ
4. ì„±ê³µ ì‘ë‹µ ë°˜í™˜ (ì‚­ì œëœ í…Œì´ë¸” ëª©ë¡)
```

### 7-7. ìƒíƒœ ê´€ë¦¬ êµ¬ì¡°

| Store | ì£¼ìš” ìƒíƒœ í•„ë“œ | ì—­í•  | persist |
|-------|---------------|------|---------|
| **useAuthStore** | `session`, `user`, `profile`, `isLoading`, `isOnboarded` | ì¸ì¦ ìƒíƒœ, í”„ë¡œí•„, ì˜¨ë³´ë”© ì™„ë£Œ ì—¬ë¶€ ê´€ë¦¬ | MMKV (session, isOnboarded) |
| **useCheckinStore** | `todayCheckin`, `isCheckedIn`, `recentCheckins[]` | ì˜¤ëŠ˜ì˜ ì²´í¬ì¸ ë°ì´í„°, ì²´í¬ì¸ ì—¬ë¶€ í”Œë˜ê·¸, ìµœê·¼ 7ì¼ ì²´í¬ì¸ | MMKV (todayCheckin) |
| **useRoutineStore** | `routines[]`, `categories[]`, `routineCount` | ë£¨í‹´ í’€, ì¹´í…Œê³ ë¦¬ ëª©ë¡, ì»¤ìŠ¤í…€ ë£¨í‹´ ê°œìˆ˜/í•œë„ | op-sqlite ìºì‹œ |
| **usePlanStore** | `todayPlan`, `planItems[]`, `completionRate` | ì˜¤ëŠ˜ì˜ í”Œëœ, ì•„ì´í…œ ëª©ë¡, ì‹¤ì‹œê°„ ë‹¬ì„±ë¥  | op-sqlite ìºì‹œ |
| **useReportStore** | `weeklyStats`, `isLoading` | ì£¼ê°„ ë¦¬í¬íŠ¸ ë°ì´í„°, ë¡œë”© ìƒíƒœ | ì—†ìŒ (ë§¤ë²ˆ fetch) |
| **useSubscriptionStore** | `planType`, `isSubscribed`, `expiresAt` | êµ¬ë… ìƒíƒœ, í”„ë¦¬ë¯¸ì—„ ì—¬ë¶€ | MMKV (planType) |
| **useSettingsStore** | `reminderTime`, `notificationEnabled`, `theme` | ì•Œë¦¼ ì‹œê°„, ì•Œë¦¼ ON/OFF, í…Œë§ˆ ì„¤ì • | MMKV |
| **useSyncStore** | `pendingCount`, `isSyncing`, `lastSyncAt` | ë™ê¸°í™” í ëŒ€ê¸° í•­ëª© ìˆ˜, ë™ê¸°í™” ì§„í–‰ ì—¬ë¶€, ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ | MMKV (lastSyncAt) |

### 7-8. ê¸°ëŠ¥-í…Œì´ë¸”-API ë§¤í•‘í‘œ

| P0 ê¸°ëŠ¥ | ê´€ë ¨ í…Œì´ë¸” | ê´€ë ¨ API | ë¹„ê³  |
|---------|-----------|---------|------|
| **FR-01: ì†Œì…œ ë¡œê·¸ì¸** | profiles, subscriptions, auth.users | Supabase Auth SDK (signInWithOAuth) | ê°€ì… ì‹œ handle_new_user íŠ¸ë¦¬ê±°ë¡œ profiles+subscriptions ìë™ ìƒì„± |
| **FR-02: ì˜¨ë³´ë”©** | profiles, routines | PATCH `/profiles`, POST `/rpc/seed_default_routines` | ì˜¨ë³´ë”© ì™„ë£Œ ì‹œ profiles.onboarding_completed=true ê°±ì‹  |
| **FR-03: ì²´í¬ì¸** | checkins | POST `/checkins`, GET `/checkins`, POST `/rpc/get_recent_avg_condition` | UNIQUE(user_id, date)ë¡œ í•˜ë£¨ 1íšŒ ë³´ì¥ |
| **FR-04: ë£¨í‹´ CRUD** | routines, routine_categories | GET/POST/PATCH/DELETE `/routines`, GET `/routine_categories`, POST `/rpc/get_user_routine_count` | ë¬´ë£Œ í•œë„(5ê°œ) í™•ì¸ í›„ ìƒì„± |
| **FR-05: ì ì‘í˜• í”Œëœ ìƒì„±** | daily_plans, plan_items, checkins, routines | POST `/functions/v1/generate-plan` | Edge Functionì—ì„œ ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ |
| **FR-06: í”Œëœ ìˆ˜ë™ ì¡°ì •** | plan_items, daily_plans | POST/PATCH/DELETE `/plan_items`, PATCH `/daily_plans` | ì•„ì´í…œ ì¶”ê°€/ì œê±° í›„ daily_plans.total_count ê°±ì‹  |
| **FR-07: ì™„ë£Œ ì²´í¬ & ë‹¬ì„±ë¥ ** | plan_items, daily_plans | PATCH `/plan_items`, PATCH `/daily_plans` | is_completed í† ê¸€ í›„ **í´ë¼ì´ì–¸íŠ¸**ê°€ completed_count, total_count, completion_rateë¥¼ ì¬ê³„ì‚°í•˜ì—¬ daily_plans PATCH í˜¸ì¶œ |
| **FR-08: ì£¼ê°„ ë¦¬í¬íŠ¸** | checkins, daily_plans | POST `/rpc/get_weekly_stats` | DB Functionì—ì„œ í†µê³„ ê³„ì‚°, Victory Nativeë¡œ ì‹œê°í™” |

### 7-9. ìì²´ ì ê²€ ê²°ê³¼

> **ë²„ì „ ì´ë ¥**: v1.0ì—ì„œ #8(í™”ë©´ êµ¬ì¡°)ì´ ë¯¸ì¶©ì¡±ì´ì—ˆìœ¼ë‚˜ v2.0ì—ì„œ ì„¹ì…˜ 8 ì‹ ì„¤ë¡œ í•´ì†Œë¨. v2.1ì—ì„œ 4ë‹¨ê³„ 2ì°¨ ë¦¬ë·° Minor 4ê±´(A-m1, C-m1, C-m2, D-m1) ë³´ì™„.

| # | ì ê²€ í•­ëª© | v1.0 | v2.0 | v2.1 | ìƒì„¸ |
|---|----------|------|------|------|------|
| 1 | ëª¨ë“  P0 ê¸°ëŠ¥ì— AC-XX-X ìˆ˜ìš© ê¸°ì¤€ ì¡´ì¬ | âœ… | âœ… | âœ… | FR-01~FR-08 ëª¨ë‘ AC ë²ˆí˜¸ í˜•ì‹ ìˆ˜ìš© ê¸°ì¤€ ì‘ì„±ë¨ (ì„¹ì…˜ 5) |
| 2 | P0 ê¸°ëŠ¥ë³„ DB í…Œì´ë¸”Â·API ë§¤í•‘ ì¡´ì¬ | âœ… | âœ… | âœ… | ì„¹ì…˜ 7-8 ë§¤í•‘í‘œì— FR-01~FR-08 ì „ì²´ ëŒ€ì‘ |
| 3 | FK ê´€ê³„ê°€ ë°ì´í„° íë¦„ê³¼ ì¼ì¹˜ | âœ… | âœ… | âœ… | profiles â†’ routines â†’ plan_items, checkins â†’ daily_plans â†’ plan_items íë¦„ ì¼ê´€ |
| 4 | APIê°€ P0 ìˆ˜ìš© ê¸°ì¤€ ì¶©ì¡± ê°€ëŠ¥ | âœ… | âœ… | âœ… | generate-planì´ AC-05-1~5 ì¶©ì¡±, REST CRUDê°€ AC-03/04/06/07 ì¶©ì¡±, get_weekly_statsê°€ AC-08-1~3 ì¶©ì¡± |
| 5 | í•µì‹¬ API TS ì¸í„°í˜ì´ìŠ¤ ì¡´ì¬ | âœ… | âœ… | âœ… | 18ê°œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (Profile, Routine, Checkin, DailyPlan, PlanItem, GeneratePlanRequest/Response ë“±) |
| 6 | í•µì‹¬ DB Function SQL ë³¸ë¬¸ ì™„ì„± | âœ… | âœ… | âœ… | get_weekly_stats, get_user_routine_count, get_recent_avg_condition, seed_default_routines, handle_new_user ì „ì²´ SQL ì‘ì„± |
| 7 | ì˜¤í”„ë¼ì¸ ì €ì¥ì†ŒÂ·ë™ê¸°í™”Â·ì¶©ëŒ í•´ê²° ëª…ì‹œ | âœ… | âœ… | âœ… | MMKV/op-sqlite ì—­í•  ë¶„ë‹´, Sync Queue ë¡œì§(ì¬ì‹œë„ 5íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„), Server Wins ì •ì±… ëª…ì‹œ. v2.1ì—ì„œ local_daily_plansì— ì§‘ê³„ í•„ë“œ ì¶”ê°€(C-m2 í•´ì†Œ) |
| 8 | ë„¤ë¹„ê²Œì´ì…˜ íŠ¸ë¦¬ + í•µì‹¬ í™”ë©´ UI | âŒ | âœ… | âœ… | v1.0ì—ì„œ ëˆ„ë½ â†’ v2.0ì—ì„œ ì„¹ì…˜ 8 ì‹ ì„¤. ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡° íŠ¸ë¦¬, 10ê°œ í™”ë©´ UI êµ¬ì„±, í™”ë©´-ë°ì´í„°-API ë§¤í•‘ |
| 9 | User Story ì „ ì˜ì—­ ì»¤ë²„ | âœ… | âœ… | âœ… | Epic 1~9 (ì˜¨ë³´ë”©Â·ì¸ì¦Â·ì²´í¬ì¸Â·ë£¨í‹´Â·í”ŒëœÂ·íšŒê³ Â·ë¦¬í¬íŠ¸Â·ì„¤ì •Â·ê²°ì œ) 27ê°œ Story |

---

## 8. Screen Map & UI ëª…ì„¸

### 8-1. ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡° íŠ¸ë¦¬

Expo Router íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ìœ¼ë¡œ êµ¬ì„±í•œë‹¤. `app/` ë””ë ‰í† ë¦¬ êµ¬ì¡°ê°€ ê³§ ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡°ë‹¤.

```
app/
â”œâ”€â”€ _layout.tsx                    â† Root Layout (AuthProvider, ThemeProvider)
â”œâ”€â”€ index.tsx                      â† ìŠ¤í”Œë˜ì‹œ/ë¼ìš°íŒ… ë¶„ê¸° (ì¸ì¦ ì—¬ë¶€ íŒë³„)
â”‚
â”œâ”€â”€ (auth)/                        â† Auth Stack (ë¯¸ì¸ì¦ ì‚¬ìš©ì)
â”‚   â”œâ”€â”€ _layout.tsx                â† Auth Stack Layout
â”‚   â”œâ”€â”€ login.tsx                  â† ë¡œê·¸ì¸ í™”ë©´
â”‚   â””â”€â”€ onboarding/
â”‚       â”œâ”€â”€ _layout.tsx            â† Onboarding Stack Layout
â”‚       â”œâ”€â”€ welcome.tsx            â† 1ë‹¨ê³„: í™˜ì˜ + í•µì‹¬ ê°€ì¹˜ ì„¤ëª…
â”‚       â”œâ”€â”€ category-select.tsx    â† 2ë‹¨ê³„: ë£¨í‹´ ì¹´í…Œê³ ë¦¬ ì„ íƒ
â”‚       â””â”€â”€ complete.tsx           â† 3ë‹¨ê³„: ì™„ë£Œ + í™ˆ ì§„ì…
â”‚
â”œâ”€â”€ (tabs)/                        â† Main Tab Navigator (ì¸ì¦ëœ ì‚¬ìš©ì)
â”‚   â”œâ”€â”€ _layout.tsx                â† Tab Layout (Bottom Tab Bar)
â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx            â† Home Stack Layout
â”‚   â”‚   â””â”€â”€ index.tsx              â† í™ˆ(ì˜¤ëŠ˜ì˜ í”Œëœ) í™”ë©´
â”‚   â”œâ”€â”€ routines/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx            â† Routines Stack Layout
â”‚   â”‚   â””â”€â”€ index.tsx              â† ë£¨í‹´ ê´€ë¦¬ í™”ë©´
â”‚   â”œâ”€â”€ report/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx            â† Report Stack Layout
â”‚   â”‚   â””â”€â”€ index.tsx              â† ì£¼ê°„ ë¦¬í¬íŠ¸ í™”ë©´
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ _layout.tsx            â† Settings Stack Layout
â”‚       â”œâ”€â”€ index.tsx              â† ì„¤ì • ë©”ì¸ í™”ë©´
â”‚       â”œâ”€â”€ profile.tsx            â† í”„ë¡œí•„ í¸ì§‘ í™”ë©´
â”‚       â”œâ”€â”€ subscription.tsx       â† êµ¬ë… ê´€ë¦¬ í™”ë©´
â”‚       â””â”€â”€ account.tsx            â† ê³„ì • ê´€ë¦¬ (ë¡œê·¸ì•„ì›ƒ/íƒˆí‡´)
â”‚
â””â”€â”€ (modal)/                       â† Modal Stack (íƒ­ ìœ„ì— ì˜¤ë²„ë ˆì´)
    â”œâ”€â”€ _layout.tsx                â† Modal Layout (presentation: 'modal')
    â”œâ”€â”€ checkin.tsx                â† ì•„ì¹¨ ì²´í¬ì¸ ëª¨ë‹¬
    â”œâ”€â”€ routine-create.tsx         â† ë£¨í‹´ ìƒì„±/í¸ì§‘ ëª¨ë‹¬
    â”œâ”€â”€ routine-select.tsx         â† í”Œëœì— ë£¨í‹´ ì¶”ê°€ ì‹œ ì„ íƒ ëª¨ë‹¬
    â”œâ”€â”€ reflection.tsx             â† ì €ë… íšŒê³  ëª¨ë‹¬
    â”œâ”€â”€ premium-upsell.tsx         â† í”„ë¦¬ë¯¸ì—„ ì—…ì…€ ëª¨ë‹¬
    â””â”€â”€ calendar.tsx               â† ìº˜ë¦°ë” ë·° ëª¨ë‹¬ (P1)
```

**ë„¤ë¹„ê²Œì´ì…˜ íë¦„:**

```
ì•± ì‹œì‘ â†’ index.tsx â†’ ì¸ì¦ ìƒíƒœ í™•ì¸
  â”œâ”€â”€ ë¯¸ì¸ì¦ â†’ (auth)/login
  â”‚             â”œâ”€â”€ ì†Œì…œ ë¡œê·¸ì¸ ì„±ê³µ + ìµœì´ˆ ê°€ì… â†’ (auth)/onboarding/welcome â†’ category-select â†’ complete â†’ (tabs)/home
  â”‚             â””â”€â”€ ì†Œì…œ ë¡œê·¸ì¸ ì„±ê³µ + ê¸°ì¡´ ì‚¬ìš©ì â†’ (tabs)/home
  â””â”€â”€ ì¸ì¦ë¨ â†’ (tabs)/home
                â”œâ”€â”€ ì²´í¬ì¸ ë¯¸ì™„ë£Œ â†’ ì²´í¬ì¸ ìœ ë„ ì¹´ë“œ â†’ (modal)/checkin
                â”œâ”€â”€ ë£¨í‹´ íƒ­ â†’ (tabs)/routines â†’ ë£¨í‹´ ìƒì„± â†’ (modal)/routine-create
                â”œâ”€â”€ ë¦¬í¬íŠ¸ íƒ­ â†’ (tabs)/report
                â””â”€â”€ ì„¤ì • íƒ­ â†’ (tabs)/settings â†’ profile / subscription / account
```

### 8-2. í•µì‹¬ í™”ë©´ë³„ UI êµ¬ì„±

#### í™”ë©´ 1: ë¡œê·¸ì¸ (`(auth)/login`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨** | ì•± ë¡œê³  + "ë°ì¼ë¦¬ì…€í”„" íƒ€ì´í¬ê·¸ë˜í”¼ |
| **ì¤‘ì•™** | í•µì‹¬ ë©”ì‹œì§€ í…ìŠ¤íŠ¸: "ì‘ì‹¬ì‚¼ì¼ì€ ë‹¹ì‹ ì˜ ì˜ì§€ë ¥ ë¬¸ì œê°€ ì•„ë‹™ë‹ˆë‹¤" + ê°„ë‹¨í•œ ì¼ëŸ¬ìŠ¤íŠ¸/Lottie ì• ë‹ˆë©”ì´ì…˜ |
| **í•˜ë‹¨** | ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ 3ê°œ (ì¹´ì¹´ì˜¤ â€” ë…¸ë€ìƒ‰, êµ¬ê¸€ â€” í°ìƒ‰, ì• í”Œ â€” ê²€ì •ìƒ‰). ê° ë²„íŠ¼ì€ React Native Paperì˜ Button ì»´í¬ë„ŒíŠ¸. ë²„íŠ¼ ì‚¬ì´ ê°„ê²© 12dp |
| **ìµœí•˜ë‹¨** | ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ / ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë§í¬ í…ìŠ¤íŠ¸ |

#### í™”ë©´ 2: ì˜¨ë³´ë”© 1ë‹¨ê³„ â€” í™˜ì˜ (`onboarding/welcome`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨** | ì§„í–‰ ì¸ë””ì¼€ì´í„° (1/3) â€” Paperì˜ ProgressBar |
| **ì¤‘ì•™** | í•µì‹¬ ê°€ì¹˜ ì„¤ëª… ì¹´ë“œ 3ì¥ (ìˆ˜í‰ ìŠ¤ì™€ì´í”„): â‘  "ë§¤ì¼ ë‹¤ë¥¸ ì»¨ë””ì…˜, ë§¤ì¼ ë‹¤ë¥¸ ë£¨í‹´" â‘¡ "ì—ë„ˆì§€ ë‚®ì€ ë‚ ? 5ë¶„ ìŠ¤íŠ¸ë ˆì¹­ì´ë©´ ì¶©ë¶„í•´ìš”" â‘¢ "ì‘ì€ ì„±ì·¨ê°€ ìŒ“ì´ë©´ í° ë³€í™”ê°€ ë©ë‹ˆë‹¤" |
| **í•˜ë‹¨** | "ë‹¤ìŒ" ë²„íŠ¼ (Primary), "ê±´ë„ˆë›°ê¸°" í…ìŠ¤íŠ¸ ë²„íŠ¼ |

#### í™”ë©´ 3: ì˜¨ë³´ë”© 2ë‹¨ê³„ â€” ì¹´í…Œê³ ë¦¬ ì„ íƒ (`onboarding/category-select`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨** | ì§„í–‰ ì¸ë””ì¼€ì´í„° (2/3) + "ê´€ì‹¬ ìˆëŠ” ë£¨í‹´ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”" |
| **ì¤‘ì•™** | 6ê°œ ì¹´í…Œê³ ë¦¬ ì¹©/ì¹´ë“œ ê·¸ë¦¬ë“œ (2ì—´): ğŸƒìš´ë™, ğŸ“šë…ì„œ, ğŸ§˜ëª…ìƒ, ğŸ“í•™ìŠµ, ğŸŒ¿ì…€í”„ì¼€ì–´, ğŸ“‹ê¸°íƒ€. ê° ì¹´ë“œëŠ” Paperì˜ Chip ì»´í¬ë„ŒíŠ¸ (multi-select ê°€ëŠ¥). ìµœì†Œ 1ê°œ ì„ íƒ í•„ìˆ˜ |
| **í•˜ë‹¨** | "ì‹œì‘í•˜ê¸°" ë²„íŠ¼ (Primary, 1ê°œ ì´ìƒ ì„ íƒ ì‹œ í™œì„±í™”), "ê±´ë„ˆë›°ê¸°" í…ìŠ¤íŠ¸ ë²„íŠ¼ |

#### í™”ë©´ 4: í™ˆ â€” ì˜¤ëŠ˜ì˜ í”Œëœ (`(tabs)/home/index`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨ AppBar** | ì™¼ìª½: ì˜¤ëŠ˜ ë‚ ì§œ ("1ì›” 31ì¼ ê¸ˆìš”ì¼"), ì˜¤ë¥¸ìª½: ë™ê¸°í™” ìƒíƒœ ì•„ì´ì½˜ |
| **ì²´í¬ì¸ ì¹´ë“œ** | (ì²´í¬ì¸ ì „) "ì˜¤ëŠ˜ ì»¨ë””ì…˜ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" + ì—ë„ˆì§€/ìˆ˜ë©´/ê¸°ë¶„ ë¯¸ë‹ˆ ì•„ì´ì½˜ + "ì²´í¬ì¸í•˜ê¸°" CTA ë²„íŠ¼ â†’ `(modal)/checkin` ì´ë™. (ì²´í¬ì¸ í›„) ì—ë„ˆì§€ ë ˆë²¨ ìˆ«ì + ìˆ˜ë©´ ì‹œê°„ + ê¸°ë¶„ ì´ëª¨ì§€ê°€ í‘œì‹œëœ ê°„ê²°í•œ ìš”ì•½ ì¹´ë“œ. íƒ­ ì‹œ ìˆ˜ì • ê°€ëŠ¥ |
| **ë‹¬ì„±ë¥  í‘œì‹œ** | CircularProgress ë˜ëŠ” ìˆ«ì í‘œì‹œ (ì˜ˆ: "3/5 ì™„ë£Œ Â· 60%"), Paperì˜ ProgressBar |
| **í”Œëœ ë¦¬ìŠ¤íŠ¸** | ë£¨í‹´ ì•„ì´í…œ ëª©ë¡ (FlatList). ê° ì•„ì´í…œ: ì²´í¬ë°•ìŠ¤ + ë£¨í‹´ëª… + ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ + ì†Œìš”ì‹œê°„. ì™„ë£Œ ì‹œ ì·¨ì†Œì„  + ì•½í•œ ë°°ê²½ìƒ‰. ê¸¸ê²Œ ëˆ„ë¥´ë©´ ë“œë˜ê·¸ ëª¨ë“œ. ìŠ¤ì™€ì´í”„ ì‹œ ì‚­ì œ ì˜µì…˜ |
| **í•˜ë‹¨ FAB** | "ë£¨í‹´ ì¶”ê°€" Floating Action Button â†’ `(modal)/routine-select` |
| **ì €ë… íšŒê³  ìœ ë„** | (18ì‹œ ì´í›„, ë¯¸ì‘ì„± ì‹œ) í”Œëœ ë¦¬ìŠ¤íŠ¸ í•˜ë‹¨ì— "ì˜¤ëŠ˜ í•˜ë£¨ ì–´ë• ë‚˜ìš”?" íšŒê³  ì¹´ë“œ â†’ `(modal)/reflection` |

#### í™”ë©´ 5: ì•„ì¹¨ ì²´í¬ì¸ ëª¨ë‹¬ (`(modal)/checkin`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨** | "ì˜¤ëŠ˜ì˜ ì»¨ë””ì…˜" íƒ€ì´í‹€ + ë‹«ê¸°(X) ë²„íŠ¼ |
| **ì—ë„ˆì§€ ì…ë ¥** | "ì—ë„ˆì§€ ë ˆë²¨" ë¼ë²¨ + ìŠ¬ë¼ì´ë” (1~5, ì •ìˆ˜ ìŠ¤í…). ê° ë‹¨ê³„ì— ì´ëª¨ì§€ í‘œì‹œ (ğŸ˜´â†’ğŸ˜â†’ğŸ˜Šâ†’ğŸ’ªâ†’ğŸ”¥). í˜„ì¬ ì„ íƒê°’ í° ìˆ«ì í‘œì‹œ |
| **ìˆ˜ë©´ ì…ë ¥** | "ìˆ˜ë©´ ì‹œê°„" ë¼ë²¨ + ìˆ«ì ìŠ¤í…í¼ (0~12ì‹œê°„, 0.5 ë‹¨ìœ„). "-" / "+" ë²„íŠ¼ + ì¤‘ì•™ ìˆ«ì í‘œì‹œ |
| **ê¸°ë¶„ ì…ë ¥** | "ì˜¤ëŠ˜ ê¸°ë¶„" ë¼ë²¨ + 3ê°œ ë²„íŠ¼ (ğŸ˜Šì¢‹ìŒ / ğŸ˜ë³´í†µ / ğŸ˜”ë‚˜ì¨). Paperì˜ SegmentedButtons |
| **í•˜ë‹¨** | "ì €ì¥í•˜ê³  í”Œëœ ë°›ê¸°" ë²„íŠ¼ (Primary). expo-haptics í”¼ë“œë°± |

#### í™”ë©´ 6: ë£¨í‹´ ê´€ë¦¬ (`(tabs)/routines/index`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨ AppBar** | "ë‚´ ë£¨í‹´" íƒ€ì´í‹€ + ë£¨í‹´ ê°œìˆ˜ ë±ƒì§€ ("3/5 ì‚¬ìš© ì¤‘") |
| **ì¹´í…Œê³ ë¦¬ í•„í„°** | ê°€ë¡œ ìŠ¤í¬ë¡¤ Chip ê·¸ë£¹ ("ì „ì²´", "ìš´ë™", "ë…ì„œ", ...). íƒ­ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ í•„í„°ë§ |
| **ë£¨í‹´ ë¦¬ìŠ¤íŠ¸** | SectionList (ì¹´í…Œê³ ë¦¬ë³„ ì„¹ì…˜). ê° ì•„ì´í…œ: ë£¨í‹´ëª… + ì†Œìš”ì‹œê°„ + í•„ìš”ì—ë„ˆì§€(ë°°í„°ë¦¬ ì•„ì´ì½˜) + í…œí”Œë¦¿ ë±ƒì§€. ìŠ¤ì™€ì´í”„ ì‹œ í¸ì§‘/ì‚­ì œ ì˜µì…˜. í…œí”Œë¦¿ ë£¨í‹´ì€ ì‚­ì œ ë²„íŠ¼ ë¹„í™œì„± |
| **ë¹ˆ ìƒíƒœ** | ë£¨í‹´ì´ ì—†ì„ ë•Œ: "ì•„ì§ ë£¨í‹´ì´ ì—†ì–´ìš”. ì¶”ê°€í•´ë³¼ê¹Œìš”?" + ì¶”ê°€ ë²„íŠ¼ |
| **í•˜ë‹¨ FAB** | "ë£¨í‹´ ì¶”ê°€" â†’ `(modal)/routine-create`. ë¬´ë£Œ í•œë„ ë„ë‹¬ ì‹œ â†’ `(modal)/premium-upsell` |

#### í™”ë©´ 7: ë£¨í‹´ ìƒì„±/í¸ì§‘ ëª¨ë‹¬ (`(modal)/routine-create`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨** | "ìƒˆ ë£¨í‹´" ë˜ëŠ” "ë£¨í‹´ í¸ì§‘" íƒ€ì´í‹€ + ë‹«ê¸° ë²„íŠ¼ |
| **í¼ í•„ë“œ** | ë£¨í‹´ëª… (TextInput, í•„ìˆ˜) + ì¹´í…Œê³ ë¦¬ (DropDown/Chip ì„ íƒ, í•„ìˆ˜) + ì†Œìš” ì‹œê°„ (ìˆ«ì ì…ë ¥, ë¶„ ë‹¨ìœ„, í•„ìˆ˜) + í•„ìš” ì—ë„ˆì§€ (ìŠ¬ë¼ì´ë” 1~5, í•„ìˆ˜) + ì„¤ëª… (TextInput, ì„ íƒ, ì—¬ëŸ¬ ì¤„) |
| **í•˜ë‹¨** | "ì €ì¥" ë²„íŠ¼ (Primary, í•„ìˆ˜ í•„ë“œ ì…ë ¥ ì‹œ í™œì„±í™”) |

#### í™”ë©´ 8: ì£¼ê°„ ë¦¬í¬íŠ¸ (`(tabs)/report/index`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **ìƒë‹¨ AppBar** | "ì£¼ê°„ ë¦¬í¬íŠ¸" íƒ€ì´í‹€ + ê¸°ê°„ í‘œì‹œ ("1/25 ~ 1/31") |
| **ì°¨íŠ¸ ì˜ì—­** | Victory Native ì´ì¤‘ Yì¶• êº¾ì€ì„  ì°¨íŠ¸: ì™¼ìª½ Yì¶• â€” ì—ë„ˆì§€ ë ˆë²¨(1~5), ì˜¤ë¥¸ìª½ Yì¶• â€” ë‹¬ì„±ë¥ (0~100%). Xì¶• â€” ìš”ì¼(ì›”~ì¼). ì—ë„ˆì§€ ë¼ì¸(íŒŒë€ìƒ‰) + ë‹¬ì„±ë¥  ë¼ì¸(ì´ˆë¡ìƒ‰) |
| **ìš”ì•½ ì¹´ë“œ** | ê°€ë¡œ ìŠ¤í¬ë¡¤ ì¹´ë“œ 3ì¥: â‘  í‰ê·  ì—ë„ˆì§€ (ìˆ«ì + ì¶”ì´ í™”ì‚´í‘œ) â‘¡ í‰ê·  ë‹¬ì„±ë¥  (%) â‘¢ ê¸°ë¶„ ë¶„í¬ (ì¢‹ìŒ/ë³´í†µ/ë‚˜ì¨ ë¹„ìœ¨ ë°”) |
| **ì¸ì‚¬ì´íŠ¸ ì„¹ì…˜** | ì¸ì‚¬ì´íŠ¸ ì¹´ë“œ 1~2ê°œ: "ğŸ’¡ ì—ë„ˆì§€ 3 ì´ìƒì¸ ë‚  í‰ê·  ë‹¬ì„±ë¥  85%ì…ë‹ˆë‹¤", "ğŸ˜´ ìˆ˜ë©´ 7ì‹œê°„ ì´ìƒì¸ ë‚  ì—ë„ˆì§€ê°€ í‰ê·  4.2ì…ë‹ˆë‹¤" |
| **ë°ì´í„° ë¶€ì¡± ì‹œ** | "Nì¼ ë” ê¸°ë¡í•˜ë©´ ë¦¬í¬íŠ¸ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”" + ì²´í¬ì¸ ìœ ë„ ë²„íŠ¼ |

#### í™”ë©´ 9: ì„¤ì • ë©”ì¸ (`(tabs)/settings/index`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **í”„ë¡œí•„ ì¹´ë“œ** | ë‹‰ë„¤ì„ + ê°€ì…ì¼ + êµ¬ë… ìƒíƒœ ë±ƒì§€ ("ë¬´ë£Œ" / "í”„ë¦¬ë¯¸ì—„") |
| **ì„¤ì • ê·¸ë£¹ 1: ì¼ë°˜** | "í”„ë¡œí•„ í¸ì§‘" â†’ settings/profile, "ì•Œë¦¼ ì„¤ì •" (í† ê¸€ + ì‹œê°„ ì„ íƒ TimePicker) |
| **ì„¤ì • ê·¸ë£¹ 2: êµ¬ë…** | "í”„ë¦¬ë¯¸ì—„ êµ¬ë…" â†’ settings/subscription |
| **ì„¤ì • ê·¸ë£¹ 3: ê³„ì •** | "ë¡œê·¸ì•„ì›ƒ", "ê³„ì • íƒˆí‡´" â†’ settings/account |
| **ì„¤ì • ê·¸ë£¹ 4: ì •ë³´** | "ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€", "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨", "ì•± ë²„ì „" |

#### í™”ë©´ 10: êµ¬ë… ê´€ë¦¬ (`settings/subscription`)

| ì˜ì—­ | êµ¬ì„± |
|------|------|
| **í˜„ì¬ ìƒíƒœ** | êµ¬ë… ìœ í˜• (ë¬´ë£Œ/ì›”ê°„/ì—°ê°„) + ë§Œë£Œì¼ (ìœ ë£Œ ì‹œ) |
| **í”„ë¦¬ë¯¸ì—„ í˜œíƒ** | í˜œíƒ ëª©ë¡: ë¬´ì œí•œ ë£¨í‹´, AI ì¸ì‚¬ì´íŠ¸, ì›”ê°„ íŠ¸ë Œë“œ, ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ |
| **ê°€ê²© ì¹´ë“œ** | ì›”ê°„ (â‚©3,900/ì›”) / ì—°ê°„ (â‚©29,900/ë…„, "ì›” â‚©2,492 â€” 36% í• ì¸") ì„ íƒ ì¹´ë“œ. ì—°ê°„ ì¹´ë“œì— "ì¶”ì²œ" ë±ƒì§€ |
| **CTA** | "êµ¬ë…í•˜ê¸°" ë²„íŠ¼ â†’ RevenueCat IAP í˜¸ì¶œ |
| **ì´ë¯¸ êµ¬ë… ì‹œ** | êµ¬ë… ì •ë³´ í‘œì‹œ + "êµ¬ë… ê´€ë¦¬" (App Store/Play Store ì„¤ì •ìœ¼ë¡œ ì´ë™) |

### 8-3. í™”ë©´-ë°ì´í„°-API ë§¤í•‘

| í™”ë©´ | Zustand Store | ì£¼ìš” API í˜¸ì¶œ | ë°ì´í„° íë¦„ |
|------|--------------|--------------|-----------|
| **ë¡œê·¸ì¸** | useAuthStore | Supabase Auth `signInWithOAuth` | OAuth ì„±ê³µ â†’ session ì €ì¥ â†’ profile ì¡°íšŒ |
| **ì˜¨ë³´ë”© (ì¹´í…Œê³ ë¦¬ ì„ íƒ)** | useAuthStore, useRoutineStore | POST `/rpc/seed_default_routines`, PATCH `/profiles` | ì¹´í…Œê³ ë¦¬ ì„ íƒ â†’ ê¸°ë³¸ ë£¨í‹´ ìƒì„± â†’ onboarding_completed=true |
| **í™ˆ (ì˜¤ëŠ˜ì˜ í”Œëœ)** | useCheckinStore, usePlanStore, useSyncStore | GET `/checkins?date=eq.today`, GET `/daily_plans?date=eq.today&select=*,plan_items(*)` | ì•± ì§„ì… â†’ ì˜¤ëŠ˜ ì²´í¬ì¸/í”Œëœ ë¡œë“œ â†’ op-sqlite ìºì‹œ ê°±ì‹  |
| **ì²´í¬ì¸ ëª¨ë‹¬** | useCheckinStore, usePlanStore | POST `/checkins`, POST `/functions/v1/generate-plan` | ì²´í¬ì¸ ì €ì¥ â†’ í”Œëœ ìƒì„± â†’ í™ˆ í™”ë©´ ê°±ì‹  |
| **ë£¨í‹´ ê´€ë¦¬** | useRoutineStore, useSubscriptionStore | GET `/routines`, GET `/routine_categories`, POST `/rpc/get_user_routine_count` | ë£¨í‹´ ëª©ë¡ + ì¹´í…Œê³ ë¦¬ + ë¬´ë£Œ í•œë„ ë¡œë“œ |
| **ë£¨í‹´ ìƒì„± ëª¨ë‹¬** | useRoutineStore | POST `/routines` | ì…ë ¥ ë°ì´í„° â†’ ë£¨í‹´ ìƒì„± â†’ ëª©ë¡ ê°±ì‹  |
| **ì£¼ê°„ ë¦¬í¬íŠ¸** | useReportStore | POST `/rpc/get_weekly_stats` | ë¦¬í¬íŠ¸ íƒ­ ì§„ì… â†’ í†µê³„ ë°ì´í„° fetch â†’ ì°¨íŠ¸ ë Œë”ë§ |
| **ì„¤ì •** | useSettingsStore, useAuthStore | GET `/profiles`, PATCH `/profiles` | ì„¤ì •ê°’ ë¡œë“œ â†’ ë³€ê²½ ì‹œ ì„œë²„ ë™ê¸°í™” + MMKV ê°±ì‹  |
| **êµ¬ë… ê´€ë¦¬** | useSubscriptionStore | RevenueCat SDK | êµ¬ë… ìƒíƒœ ì¡°íšŒ/êµ¬ë§¤ â†’ subscriptions í…Œì´ë¸” ë™ê¸°í™” |
| **ì €ë… íšŒê³  ëª¨ë‹¬** | usePlanStore | POST `/reflections` | íšŒê³  í…ìŠ¤íŠ¸ ì €ì¥ â†’ í”Œëœì— íšŒê³  ì—°ê²° |

---

## 9. Competitive Differentiation

### 9-1. í•µì‹¬ ì°¨ë³„í™” ì „ëµ (ê²½ìŸë¶„ì„ ì¸ìš©)

| ì°¨ë³„í™” ì¶• | ë°ì¼ë¦¬ì…€í”„ | ê²½ìŸì‚¬ í˜„í™© | ì°¨ë³„ì  ê·¼ê±° |
|----------|-----------|-----------|-----------|
| **ì»¨ë””ì…˜ ì¸ì‹** | ì•„ì¹¨ 30ì´ˆ ì²´í¬ì¸ìœ¼ë¡œ ì—ë„ˆì§€Â·ìˆ˜ë©´Â·ê¸°ë¶„ íŒŒì•… | ë£¨ë¹—ë§Œ ê¸°ë¶„ ê¸°ë¡ ê°€ëŠ¥, ë‚˜ë¨¸ì§€ 5ê°œ ì•±ì€ ê°ì •/ì»¨ë””ì…˜ ì…ë ¥ ì—†ìŒ | ê²½ìŸë¶„ì„ Â§2-1: 6ê°œ ì•± ì¤‘ "ì»¨ë””ì…˜ ì ì‘" ì¹¼ëŸ¼ ì „ë¶€ X |
| **ì ì‘í˜• ë£¨í‹´** | ì»¨ë””ì…˜ ê¸°ë°˜ ë£¨í‹´ ë‚œì´ë„ ìë™ ì¡°ì ˆ | ëª¨ë“  ê²½ìŸìê°€ "ê³ ì • ë£¨í‹´" íŒ¨ëŸ¬ë‹¤ì„ | ê²½ìŸë¶„ì„ Â§2-3 í¬ì§€ì…”ë‹ ë§µ: "ì ì‘í˜• ë£¨í‹´" ì˜ì—­ ê³µë°± |
| **ì‹¤íŒ¨í•˜ì§€ ì•ŠëŠ” êµ¬ì¡°** | ì—ë„ˆì§€ ë‚®ì€ ë‚  1~2ê°œ ë£¨í‹´ë§Œ ì œì•ˆ. ì²´í¬ì¸ ìŠ¤í‚µ í—ˆìš© | ì±Œë¦°ì €ìŠ¤: 85% ë¯¸ë‹¬ ì‹œ ê¸ˆì „ ì†ì‹¤. ë£¨í‹°ë„ˆë¦¬: ê³ ì • ì‹œê°„ ë¯¸ìˆ˜í–‰ ì‹œ ì‹¤íŒ¨ ê¸°ë¡ | ì‹œì¥ë¶„ì„ Â§3-2: "ê³ ì • ë£¨í‹´ì´ ìœ ë™ì  ìƒí™œíŒ¨í„´ê³¼ ì•ˆ ë§ìŒ" |
| **ì»¨ë””ì…˜-ë‹¬ì„± ì¸ì‚¬ì´íŠ¸** | ì£¼ê°„ ë¦¬í¬íŠ¸ì—ì„œ ì—ë„ˆì§€-ë‹¬ì„±ë¥  ìƒê´€ê´€ê³„ ì‹œê°í™” | í•˜ë£¨ì½©: ê°ì • ê¸°ë¡ë§Œ. ë§ˆì´ë£¨í‹´: ë‹¬ì„±ë¥ ë§Œ. êµì°¨ ë¶„ì„ ì—†ìŒ | ì‹œì¥ë¶„ì„ Â§5-1: ìŠµê´€ ì•± 48% ì´íƒˆ â†’ ì¸ì‚¬ì´íŠ¸ë¡œ ë™ê¸° ë¶€ì—¬ |

### 9-2. ê²½ìŸ í¬ì§€ì…”ë‹

```
         ê³ ì • ë£¨í‹´ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ì ì‘í˜• ë£¨í‹´
              â”‚                              â”‚
  ì‹¤í–‰ ë„êµ¬ â”€ ë£¨í‹°ë„ˆë¦¬    ë§ˆì´ë£¨í‹´             â”‚
              â”‚                              â”‚
              â”‚    íˆ¬ë‘ë©”ì´íŠ¸                  â”‚   â˜… ë°ì¼ë¦¬ì…€í”„
              â”‚                              â”‚   "ì»¨ë””ì…˜ ì¸ì‹
              â”‚         ë£¨ë¹—                  â”‚    ì ì‘í˜• ë£¨í‹´"
              â”‚                              â”‚
  ë™ê¸°ë¶€ì—¬ â”€ ì±Œë¦°ì €ìŠ¤                          â”‚
              â”‚                              â”‚
```

### 9-3. ë°©ì–´ ì „ëµ

- **ê¸°ìˆ ì  í•´ì**: ë‚®ìŒ (ê·œì¹™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì€ ë³µì œ ìš©ì´)
- **ë°ì´í„° í•´ì**: ì¤‘ê°„ (ì‚¬ìš©ìë³„ ì»¨ë””ì…˜-ë‹¬ì„± ìƒê´€ê´€ê³„ ë°ì´í„° ì¶•ì  â†’ ê°œì¸í™” ì¸ì‚¬ì´íŠ¸ í’ˆì§ˆ í–¥ìƒ)
- **ì‹¤í–‰ ì†ë„ í•´ì**: ë†’ìŒ (3ê°œì›” MVP ì„ ì¶œì‹œ â†’ ì¹´í…Œê³ ë¦¬ ì„ ì  + ASO)
- **ëŒ€ì‘**: ë¹ ë¥¸ ì‹¤í–‰ + ë°ì´í„° ì¶•ì ìœ¼ë¡œ í›„ë°œ ì£¼ì ëŒ€ë¹„ ì„ ì  íš¨ê³¼ í™•ë³´

---

## 10. Monetization Strategy

### 10-1. ìˆ˜ìµ ëª¨ë¸: í”„ë¦¬ë¯¸ì—„ êµ¬ë… (Freemium)

| êµ¬ë¶„ | ë¬´ë£Œ (Free) | í”„ë¦¬ë¯¸ì—„ (Premium) |
|------|-----------|-------------------|
| **ê°€ê²©** | â‚©0 | ì›” â‚©3,900 / ì—° â‚©29,900 (ì›” â‚©2,492) |
| ì•„ì¹¨ ì²´í¬ì¸ | âœ… | âœ… |
| ì ì‘í˜• í”Œëœ ìƒì„± | âœ… | âœ… |
| ì£¼ê°„ ë¦¬í¬íŠ¸ (ê¸°ë³¸) | âœ… | âœ… |
| ì»¤ìŠ¤í…€ ë£¨í‹´ | ìµœëŒ€ 5ê°œ | **ë¬´ì œí•œ** |
| ì¸ì‚¬ì´íŠ¸ | ê¸°ë³¸ 1~2ê°œ | **AI ê°œì¸í™” ì¸ì‚¬ì´íŠ¸** |
| ì›”ê°„ íŠ¸ë Œë“œ ë¶„ì„ | âŒ | âœ… |
| ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ | âŒ | âœ… |
| ì…€í”„ì¼€ì–´ ì½˜í…ì¸  | âŒ | âœ… |
| ë°ì´í„° ë‚´ë³´ë‚´ê¸° | âŒ | âœ… |

### 10-2. ê°€ê²© ì„¤ì • ê·¼ê±°

- ë§ˆì´ë£¨í‹´: ì›” â‚©3,900 / ì—° â‚©28,000 â†’ ë™ì¼ ê°€ê²©ëŒ€ë¡œ ì‹œì¥ ìˆ˜ìš© í™•ì¸ (ê²½ìŸë¶„ì„ Â§4-3)
- ë£¨í‹°ë„ˆë¦¬: ì›” â‚©3,500 / ì—° â‚©25,000 â†’ êµ­ë‚´ ìŠµê´€ ì•± êµ¬ë… ê°€ê²© ëŒ€ â‚©3,500~â‚©4,000
- MZì„¸ëŒ€ ì›” ìê¸°ê´€ë¦¬ ì§€ì¶œ ì˜í–¥ 17.9ë§Œ ì›, ì‹¤ì œ 69.7%ê°€ 10ë§Œ ì› ë¯¸ë§Œ â†’ ì›” â‚©3,900ì€ ë¶€ë‹´ ì—†ëŠ” ê¸ˆì•¡ (ì‹œì¥ë¶„ì„ Â§5-3)

### 10-3. ìˆ˜ìµ ì˜ˆì¸¡

| ì‹œë‚˜ë¦¬ì˜¤ | ì‚¬ìš©ì | ìœ ë£Œ ì „í™˜ìœ¨ | ìœ ë£Œ ì‚¬ìš©ì | ì—° ë§¤ì¶œ | SOM ëŒ€ì‘ |
|---------|--------|-----------|-----------|--------|---------|
| 1ë…„ì°¨ ë³´ìˆ˜ì  | 5ë§Œ | 3% | 1,500 | â‚©4,500ë§Œ | SOM í•˜í•œ ë¯¸ë§Œ (ì´ˆê¸° ì„±ì¥ ë‹¨ê³„) |
| 1ë…„ì°¨ ê¸°ë³¸ | 10ë§Œ | 4% | 4,000 | â‚©1.2ì–µ | SOM 1~3ì–µ ë²”ìœ„ ë‚´ |
| 2ë…„ì°¨ ê¸°ë³¸ | 30ë§Œ | 5% | 15,000 | â‚©4.5ì–µ | SOM 5~10ì–µ ë²”ìœ„ ë‚´ |
| 2ë…„ì°¨ ë‚™ê´€ì  | 50ë§Œ | 5% | 25,000 | â‚©7.5ì–µ | SOM ìƒí•œ ê·¼ì ‘ |

> **SOMê³¼ ì‹œë‚˜ë¦¬ì˜¤ ê´€ê³„ ì£¼ì„**: SOM(1ë…„ì°¨ 1~3ì–µ)ì€ "ê¸°ë³¸" ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‚°ì •ë˜ì—ˆë‹¤. "ë³´ìˆ˜ì " ì‹œë‚˜ë¦¬ì˜¤(â‚©4,500ë§Œ)ëŠ” SOM í•˜í•œì— ë¯¸ë‹¬í•˜ë‚˜, ì´ëŠ” ì¶œì‹œ ì§í›„ ì²« í•´ì— ì•„ì§ ìœ ë£Œ ì „í™˜ì´ ë³¸ê²©í™”ë˜ê¸° ì „ì˜ ì´ˆê¸° ì„±ì¥ ë‹¨ê³„ë¥¼ ë°˜ì˜í•œ ê²ƒì´ë‹¤. ì‹¤ì œ SOM ë‹¬ì„±ì€ ì¶œì‹œ í›„ 6~12ê°œì›” ì‚¬ì´ì— ìœ ë£Œ ì „í™˜ì´ ì•ˆì •í™”ë˜ë©´ì„œ ì´ë£¨ì–´ì§ˆ ê²ƒìœ¼ë¡œ ì „ë§í•œë‹¤.

> **LTV ì¶”ì •**: ì—° â‚©29,900 Ã— í‰ê·  êµ¬ë… ê¸°ê°„ 6ê°œì›” â‰ˆ â‚©14,950/ì‚¬ìš©ì. ìŠµê´€ ì•± 6ê°œì›” ì´íƒˆë¥  48%(ì‹œì¥ë¶„ì„ Â§5-1) ë° êµ¬ë… ì•± í‰ê·  churn rate ì›” 6~8%ë¥¼ ê·¼ê±°ë¡œ í‰ê·  êµ¬ë… ê¸°ê°„ì„ 6ê°œì›”ë¡œ ë³´ìˆ˜ ì¶”ì •.

### 10-4. Progressive Paywall ì „ëµ

1. **ê°€ì¹˜ ì²´ê° ìš°ì„ **: í•µì‹¬ ê¸°ëŠ¥(ì²´í¬ì¸ â†’ í”Œëœ â†’ ì£¼ê°„ ë¦¬í¬íŠ¸)ì€ ë¬´ë£Œ. ì‚¬ìš©ìê°€ "ì»¨ë””ì…˜ ì ì‘í˜•"ì˜ ê°€ì¹˜ë¥¼ ì²´ê°í•œ í›„ ìœ ë£Œ ì „í™˜
2. **ìì—°ìŠ¤ëŸ¬ìš´ ì—…ì…€ íŠ¸ë¦¬ê±°**: ì»¤ìŠ¤í…€ ë£¨í‹´ 5ê°œ í•œë„ ë„ë‹¬ ì‹œ í”„ë¦¬ë¯¸ì—„ ëª¨ë‹¬ í‘œì‹œ (FR-13)
3. **ë°ì´í„° ê¸°ë°˜ ìœ ë£Œ ê°€ì¹˜**: ë¬´ë£Œì—ì„œ ì¶•ì ëœ ë°ì´í„°ë¡œ AI ì¸ì‚¬ì´íŠ¸ì˜ ê°€ì¹˜ë¥¼ ë¯¸ë¦¬ ë³´ì—¬ì£¼ê³ , ìƒì„¸ ì¸ì‚¬ì´íŠ¸ëŠ” ìœ ë£Œë¡œ ì œê³µ

---

## 11. Risk Matrix

| # | ë¦¬ìŠ¤í¬ | ìœ í˜• | ë°œìƒ í™•ë¥  | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|---|--------|------|----------|--------|----------|
| R-01 | ì¹˜ì—´í•œ ê²½ìŸ (5ê°œ+ ì•± 100ë§Œ DL ì´ìƒ) | ì‚¬ì—… | ë†’ìŒ | ë†’ìŒ | "ì»¨ë””ì…˜ ì ì‘í˜•"ìœ¼ë¡œ ëª…í™•í•œ ì°¨ë³„ì  í¬ì§€ì…”ë‹. ASO í‚¤ì›Œë“œ ì„ ì  |
| R-02 | ë‚®ì€ ìœ ë£Œ ì „í™˜ìœ¨ (3~5%) | ì‚¬ì—… | ë†’ìŒ | ë†’ìŒ | Progressive Paywall + ë°ì´í„° ì¶•ì  í›„ AI ì¸ì‚¬ì´íŠ¸ë¡œ ìœ ë£Œ ê°€ì¹˜ ì¦ëª… |
| R-03 | "ì»¨ë””ì…˜ ì ì‘í˜•" ê°œë… ì‹œì¥ êµìœ¡ ë¹„ìš© | ì‚¬ì—… | ì¤‘ê°„ | ì¤‘ê°„ | ì˜¨ë³´ë”© 3ë‹¨ê³„ì—ì„œ ë¹„í¬/ì• í”„í„° ì‹œë‚˜ë¦¬ì˜¤ë¡œ í•µì‹¬ ê°€ì¹˜ ì§ê´€ì  ì „ë‹¬ |
| R-04 | ëŒ€í˜• ì•±ì‚¬ ì¹´í”¼ ìœ„í—˜ (ë”œë¼ì´íŠ¸ë£¸ ë“±) | ì‚¬ì—… | ì¤‘ê°„ | ë†’ìŒ | ë¹ ë¥¸ MVP ì¶œì‹œ(3ê°œì›”) + ì‚¬ìš©ì ë°ì´í„° ì¶•ì ìœ¼ë¡œ ì„ ì  |
| R-05 | ìŠµê´€ ì•± ë†’ì€ ì´íƒˆë¥  (48%) | ì‚¬ì—… | ë†’ìŒ | ë†’ìŒ | "ì‹¤íŒ¨í•˜ì§€ ì•ŠëŠ” êµ¬ì¡°" ìì²´ê°€ ì´íƒˆ ë°©ì§€ ì„¤ê³„. ì²´í¬ì¸ ìŠ¤í‚µ í—ˆìš©, ì»¨ë””ì…˜ë³„ ìµœì†Œ ë£¨í‹´ ì œì•ˆ |
| R-06 | Supabase ì„œë¹„ìŠ¤ ì¥ì•  | ê¸°ìˆ  | ë‚®ìŒ | ë†’ìŒ | Offline-First ì„¤ê³„(op-sqlite ìºì‹œ)ë¡œ í•µì‹¬ ê¸°ëŠ¥ ë¡œì»¬ ì‚¬ìš© ê°€ëŠ¥ |
| R-07 | RevenueCat SDK í˜¸í™˜ ì´ìŠˆ | ê¸°ìˆ  | ë‚®ìŒ | ì¤‘ê°„ | P1ì´ë¯€ë¡œ MVP í•µì‹¬ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ. ê²°ì œ ê¸°ëŠ¥ ì§€ì—° ê°€ëŠ¥ |
| R-08 | Supabase Free Tier í•œê³„ ë„ë‹¬ | ê¸°ìˆ  | ì¤‘ê°„ | ì¤‘ê°„ | ëª¨ë‹ˆí„°ë§ ì§€í‘œ ì„¤ì •: ë™ì‹œ ì ‘ì† 400+, DB 400MB+, Edge Function ì›” 400K+ ë„ë‹¬ ì‹œ Pro í”Œëœ(ì›” $25) ì „í™˜ |
| R-09 | ê°œì¸ì •ë³´ë³´í˜¸ë²• / ì•± ìŠ¤í† ì–´ ì •ì±… ë³€ê²½ | ë²•ë¥  | ë‚®ìŒ | ì¤‘ê°„ | ìµœì†Œ ë°ì´í„° ìˆ˜ì§‘ ì›ì¹™. ê³„ì • ì‚­ì œ ê¸°ëŠ¥(FR-12) í¬í•¨. ì´ìš©ì•½ê´€/ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ì¤€ë¹„ |
| R-10 | 1ì¸ ê°œë°œ ë²ˆì•„ì›ƒ | ìš´ì˜ | ì¤‘ê°„ | ë†’ìŒ | P0/P1/P2 ìš°ì„ ìˆœìœ„ ì—„ê²© ì ìš©. P0ë§Œìœ¼ë¡œ MVP ì¶œì‹œ í›„ ë°˜ì‘ í™•ì¸ |

### ì˜ì¡´ì„± ë¦¬ìŠ¤í¬

| ì™¸ë¶€ ì„œë¹„ìŠ¤ | ì˜ì¡´ë„ | ì¥ì•  ì‹œ ì˜í–¥ | ëŒ€ì‘ |
|------------|--------|------------|------|
| Supabase Cloud | ë†’ìŒ | ë°ì´í„° CRUD ë¶ˆê°€ | Offline-First (op-sqlite ìºì‹œ) ìµœëŒ€ 24ì‹œê°„ ë…ë¦½ ìš´ì˜ ê°€ëŠ¥ |
| RevenueCat | ì¤‘ê°„ | ê²°ì œ ë¶ˆê°€ | ë¬´ë£Œ ê¸°ëŠ¥ì€ ì •ìƒ ì‘ë™. ê²°ì œ ì¬ì‹œë„ ì•ˆë‚´ |
| OAuth (ì¹´ì¹´ì˜¤/êµ¬ê¸€/ì• í”Œ) | ì¤‘ê°„ | ì‹ ê·œ ê°€ì… ë¶ˆê°€ | ê¸°ì¡´ ì„¸ì…˜ ìœ íš¨ ì‹œ ì˜í–¥ ì—†ìŒ (MMKV í† í° ë³´ê´€) |
| Expo Push | ë‚®ìŒ | ì•Œë¦¼ ë¯¸ìˆ˜ì‹  | P1 ê¸°ëŠ¥. ì•± ë‚´ ì²´í¬ì¸ ìœ ë„ë¡œ ëŒ€ì²´ |
| Aptabase | ë‚®ìŒ | ë¶„ì„ ë°ì´í„° ë¯¸ìˆ˜ì§‘ | í•µì‹¬ ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ |

---

## 12. Assumptions & Constraints

### ì‚¬ì—…ì  ê°€ì •

| # | ê°€ì • | ê²€ì¦ ë°©ë²• |
|---|------|----------|
| A-01 | í•œêµ­ MZì„¸ëŒ€ ì§ì¥ì¸ì€ "ì»¨ë””ì…˜ì— ë”°ë¥¸ ìœ ì—°í•œ ë£¨í‹´"ì— ëŒ€í•œ ë¯¸ì¶©ì¡± ë‹ˆì¦ˆê°€ ìˆë‹¤ | MVP ì¶œì‹œ í›„ D7 ë¦¬í…ì…˜ 30% ì´ìƒ í™•ì¸ |
| A-02 | ìœ ë£Œ ì „í™˜ìœ¨ 3~5%ê°€ ë‹¬ì„± ê°€ëŠ¥í•˜ë‹¤ | ë§ˆì´ë£¨í‹´ ë™ì¼ ê°€ê²©ëŒ€ ì°¸ì¡°. 3ê°œì›” í›„ ì „í™˜ìœ¨ ì¸¡ì • |
| A-03 | 30ì´ˆ ì²´í¬ì¸ì€ ì‚¬ìš©ìì—ê²Œ ë¶€ë‹´ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ | ì£¼ 3ì¼ ì´ìƒ ì²´í¬ì¸ìœ¨ 60% ì´ìƒ í™•ì¸ |
| A-04 | ì£¼ê°„ ë¦¬í¬íŠ¸ì˜ ì¸ì‚¬ì´íŠ¸ê°€ ìœ ë£Œ ì „í™˜ ë™ê¸°ë¥¼ ì œê³µí•œë‹¤ | ë¦¬í¬íŠ¸ ì¡°íšŒ í›„ ìœ ë£Œ ì „í™˜ìœ¨ ëŒ€ë¹„ ë¯¸ì¡°íšŒ ìœ ë£Œ ì „í™˜ìœ¨ ë¹„êµ |

### ê¸°ìˆ  ì œì•½

| # | ì œì•½ | ì˜í–¥ |
|---|------|------|
| C-01 | Expo Managed Workflow â€” ë„¤ì´í‹°ë¸Œ ì½”ë“œ ì§ì ‘ ìˆ˜ì • ë¶ˆê°€ | expo-dev-clientë¡œ í•„ìš” ì‹œ ì»¤ìŠ¤í…€ ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ì¶”ê°€ ê°€ëŠ¥í•˜ë‚˜, ë¹Œë“œ ë³µì¡ì„± ì¦ê°€ |
| C-02 | Supabase Free Tier â€” 500 ë™ì‹œ ì ‘ì†, 500MB DB, ì›” 500K Edge Function | ì‚¬ìš©ì 5ë§Œ ì´ìƒ ì‹œ Pro ì „í™˜ í•„ìš” (ì›” $25) |
| C-03 | 1ì¸ ê°œë°œ â€” QA, ë””ìì¸, ë§ˆì¼€íŒ… ëª¨ë‘ í˜¼ì ìˆ˜í–‰ | P0 ê¸°ëŠ¥ì— ì§‘ì¤‘. UIëŠ” React Native Paper ê¸°ë³¸ í…Œë§ˆ í™œìš© |
| C-04 | 3ê°œì›” MVP â€” ê¸°ëŠ¥ ë²”ìœ„ ì œí•œ | P0 8ê°œ ê¸°ëŠ¥ë§Œ MVP. P1/P2ëŠ” ì¶œì‹œ í›„ ì—…ë°ì´íŠ¸ |

### ì™¸ë¶€ ì˜ì¡´ì„±

| # | ì˜ì¡´ì„± | ìƒíƒœ |
|---|--------|------|
| D-01 | ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” ë“±ë¡ | ê°œì¸ ê°œë°œì ë“±ë¡ ê°€ëŠ¥ (ë²•ì¸ ë¶ˆí•„ìš”) |
| D-02 | ì• í”Œ ê°œë°œì í”„ë¡œê·¸ë¨ ($99/ë…„) | í•„ìˆ˜. iOS ë°°í¬ì— í•„ìš” |
| D-03 | êµ¬ê¸€ Play Console ($25 ì¼íšŒì„±) | í•„ìˆ˜. Android ë°°í¬ì— í•„ìš” |
| D-04 | RevenueCat ê³„ì • | Free Tierë¡œ ì‹œì‘ (ì›” $10K ë§¤ì¶œê¹Œì§€ ë¬´ë£Œ) |
| D-05 | Aptabase ê³„ì • | Free Tier (ì›” 20K ì´ë²¤íŠ¸ê¹Œì§€ ë¬´ë£Œ) |

### project-init ì¡°ê±´ë¶€ ë§¤í•‘ ë¯¸ì§€ì›

ì•„ë˜ ê¸°ìˆ ì€ project-initì˜ ì¡°ê±´ë¶€ ì˜ì¡´ì„± í…Œì´ë¸”ì— ì—†ìœ¼ë¯€ë¡œ, scaffold í›„ ìˆ˜ë™ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤:

| ê¸°ìˆ  | íŒ¨í‚¤ì§€ëª… | ì‚¬ìœ  |
|------|---------|------|
| RevenueCat | `react-native-purchases` | 1ì¸ ê°œë°œìì—ê²Œ react-native-iap ëŒ€ë¹„ ìš´ì˜ ë¶€ë‹´ ì ˆê°ì´ í¼. êµ¬ë… ê´€ë¦¬/ë¶„ì„ í†µí•© ì œê³µ |

---

## 13. Out of Scope

MVPì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ì œì™¸í•˜ëŠ” ê¸°ëŠ¥/ì˜ì—­:

| # | ì œì™¸ í•­ëª© | ì´ìœ  | í¬í•¨ ì‹œê¸° |
|---|----------|------|----------|
| OS-01 | AI ê°œì¸í™” ì¸ì‚¬ì´íŠ¸ (LLM API) | ì™¸ë¶€ AI API ë¹„ìš© + ë³µì¡ì„±. MVPëŠ” ê·œì¹™ ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ | Post-MVP (P2) |
| OS-02 | ì†Œì…œ ê¸°ëŠ¥ (ì¹œêµ¬, ê·¸ë£¹ ë£¨í‹´) | 1ì¸ ì•± ì„¤ê³„ ì›ì¹™. ì†Œì…œì€ íˆ¬ë‘ë©”ì´íŠ¸ì™€ ì§ì ‘ ê²½ìŸ ìœ ë°œ | ë¯¸ì • |
| OS-03 | ê¸ˆì „ì  ë™ê¸°ë¶€ì—¬ (ì±Œë¦°ì§€ ì˜ˆì¹˜ê¸ˆ) | ì±Œë¦°ì €ìŠ¤ì™€ ì§ì ‘ ê²½ìŸ ìœ ë°œ. ë°ì¼ë¦¬ì…€í”„ì˜ ì°¨ë³„ì ê³¼ ë°°ì¹˜ | ë¯¸í¬í•¨ |
| OS-04 | ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´ ë“±) | í•œêµ­ ì‹œì¥ ì§‘ì¤‘. ì˜ì–´ëŠ” v2 ì´í›„ | v2 |
| OS-05 | ì›¨ì–´ëŸ¬ë¸” ì—°ë™ (Apple Watch, Galaxy Watch) | ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ í•„ìš”, ê°œë°œ ë³µì¡ì„± ë†’ìŒ | v3 |
| OS-06 | ìœ„ì ¯ (iOS/Android í™ˆ í™”ë©´ ìœ„ì ¯) | Expo Managedì—ì„œ ì œí•œì . expo-apple-targets ì‹¤í—˜ì  | Post-MVP |
| OS-07 | ì›¹ ëŒ€ì‹œë³´ë“œ | ëª¨ë°”ì¼ ì•± ìš°ì„ . ì›¹ì€ í•„ìš” ì‹œ ì¶”í›„ | ë¯¸ì • |
| OS-08 | ì»¤ìŠ¤í…€ ì•Œë¦¼ ì‚¬ìš´ë“œ | ê¸°ë³¸ ì‹œìŠ¤í…œ ì‚¬ìš´ë“œ ì‚¬ìš© | Post-MVP |
| OS-09 | ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV/JSON) | í•µì‹¬ ê°€ì¹˜ì™€ ë¬´ê´€. ìœ ë£Œ ì „í™˜ ìœ ì¸ìš© | Post-MVP (P2) |

---

## 14. MVP Roadmap

### 3ê°œì›” (12ì£¼) ê°œë°œ ì¼ì •

| ì£¼ì°¨ | ë§ˆì¼ìŠ¤í†¤ | ì£¼ìš” ì‘ì—… | ì‚°ì¶œë¬¼ |
|------|---------|----------|--------|
| **1ì£¼** | í”„ë¡œì íŠ¸ ì…‹ì—… | Expo í”„ë¡œì íŠ¸ ì´ˆê¸°í™”, Supabase í”„ë¡œì íŠ¸ ìƒì„±, ê¸°ë³¸ ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡°, CI/CD(EAS) ì„¤ì • | ë¹ˆ ì•± + ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤ì¼ˆë ˆí†¤ |
| **2ì£¼** | ì¸ì¦ + DB | Supabase Auth ì—°ë™ (ì¹´ì¹´ì˜¤/êµ¬ê¸€/ì• í”Œ), DB ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜, RLS ì •ì±… ì ìš©, handle_new_user íŠ¸ë¦¬ê±° | ì†Œì…œ ë¡œê·¸ì¸ ê°€ëŠ¥í•œ ì•± |
| **3ì£¼** | ì˜¨ë³´ë”© | ì˜¨ë³´ë”© 3ë‹¨ê³„ í™”ë©´, seed_default_routines RPC, ì¹´í…Œê³ ë¦¬ ì„ íƒ UI | ì˜¨ë³´ë”© ì™„ë£Œ â†’ í™ˆ ì§„ì… |
| **4ì£¼** | ë£¨í‹´ CRUD | ë£¨í‹´ ê´€ë¦¬ í™”ë©´, ë£¨í‹´ ìƒì„±/í¸ì§‘/ì‚­ì œ, ì¹´í…Œê³ ë¦¬ í•„í„°, get_user_routine_count | ë£¨í‹´ í’€ ê´€ë¦¬ ê¸°ëŠ¥ |
| **5ì£¼** | ì²´í¬ì¸ | ì²´í¬ì¸ ëª¨ë‹¬ UI (ìŠ¬ë¼ì´ë”/ìŠ¤í…í¼/íƒ­), ì²´í¬ì¸ ì €ì¥, get_recent_avg_condition | ì²´í¬ì¸ ì…ë ¥ + ì €ì¥ |
| **6ì£¼** | ì ì‘í˜• í”Œëœ (í•µì‹¬) | generate-plan Edge Function, ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜, í”Œëœ ìƒì„± + í‘œì‹œ | ì²´í¬ì¸ â†’ í”Œëœ ìë™ ìƒì„± |
| **7ì£¼** | í”Œëœ ì¡°ì‘ + ë‹¬ì„± | í”Œëœ ìˆ˜ë™ ì¡°ì • (ì¶”ê°€/ì œê±°/ìˆœì„œë³€ê²½), ì™„ë£Œ ì²´í¬, ë‹¬ì„±ë¥  ì‹¤ì‹œê°„ í‘œì‹œ | í”Œëœ ì™„ì „ ì‚¬ìš© ê°€ëŠ¥ |
| **8ì£¼** | ì£¼ê°„ ë¦¬í¬íŠ¸ | get_weekly_stats RPC, Victory Native ì°¨íŠ¸, ì¸ì‚¬ì´íŠ¸ í‘œì‹œ | ì£¼ê°„ ë¦¬í¬íŠ¸ í™”ë©´ |
| **9ì£¼** | ì˜¤í”„ë¼ì¸ + ë™ê¸°í™” | op-sqlite ë¡œì»¬ ìºì‹œ, Sync Queue, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€, ì¶©ëŒ í•´ê²° | ì˜¤í”„ë¼ì¸ ì‚¬ìš© ê°€ëŠ¥ |
| **10ì£¼** | P1 ê¸°ëŠ¥ | ì €ë… íšŒê³ (FR-09), ì•Œë¦¼(FR-10), ìº˜ë¦°ë” ë·°(FR-14), ê³„ì • ê´€ë¦¬(FR-12) | P1 ê¸°ëŠ¥ ì™„ë£Œ |
| **11ì£¼** | ê²°ì œ + ì—…ì…€ | RevenueCat ì—°ë™, êµ¬ë… í™”ë©´, í”„ë¦¬ë¯¸ì—„ ì—…ì…€ ëª¨ë‹¬, ë¬´ë£Œ í•œë„ ì ìš© | ìˆ˜ìµí™” ê¸°ë°˜ ì™„ë£Œ |
| **12ì£¼** | QA + ì¶œì‹œ | ì „ì²´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸, ë²„ê·¸ ìˆ˜ì •, ì•± ìŠ¤í† ì–´ ë©”íƒ€ë°ì´í„° ì‘ì„±, EAS Submit | ì•± ìŠ¤í† ì–´ ì œì¶œ |

### ë§ˆì¼ìŠ¤í†¤ ê¸°ì¤€

| ë§ˆì¼ìŠ¤í†¤ | ì™„ë£Œ ê¸°ì¤€ |
|---------|----------|
| M1: ì¸ì¦+ì˜¨ë³´ë”© (3ì£¼ì°¨) | ì†Œì…œ ë¡œê·¸ì¸ â†’ ì˜¨ë³´ë”© â†’ í™ˆ ì§„ì… E2E ì„±ê³µ |
| M2: í•µì‹¬ ë£¨í”„ (7ì£¼ì°¨) | ì²´í¬ì¸ â†’ ì ì‘í˜• í”Œëœ â†’ ì™„ë£Œ ì²´í¬ â†’ ë‹¬ì„±ë¥  í‘œì‹œ E2E ì„±ê³µ |
| M3: MVP ê¸°ëŠ¥ ì™„ì„± (10ì£¼ì°¨) | P0 8ê°œ + P1 4ê°œ ê¸°ëŠ¥ ì „ì²´ ë™ì‘. ì˜¤í”„ë¼ì¸ ì²´í¬ì¸/í”Œëœ ì¡°íšŒ ê°€ëŠ¥ |
| M4: ì¶œì‹œ (12ì£¼ì°¨) | App Store + Play Store ì œì¶œ ì™„ë£Œ |

---

## 15. Success Metrics

### 15-1. North Star Metric

> **"ì£¼ 3ì¼ ì´ìƒ ì²´í¬ì¸í•˜ëŠ” ì‚¬ìš©ì ë¹„ìœ¨"** (Weekly Active Checkin Rate)

ì´ ì§€í‘œëŠ” ë°ì¼ë¦¬ì…€í”„ì˜ í•µì‹¬ ê°€ì¹˜(ë§¤ì¼ ì»¨ë””ì…˜ ì¸ì‹ â†’ ì ì‘í˜• ë£¨í‹´)ì˜ ì²´ê°ë„ë¥¼ ì§ì ‘ ë°˜ì˜í•œë‹¤. ì²´í¬ì¸ì´ ìŠµê´€ì´ ëœ ì‚¬ìš©ìëŠ” í”Œëœ ì‚¬ìš©Â·ë¦¬í¬íŠ¸ ì¡°íšŒê¹Œì§€ ì´ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.

### 15-2. í•µì‹¬ KPI ì •ì˜

| ì¹´í…Œê³ ë¦¬ | KPI | ì •ì˜ | ëª©í‘œ (1ê°œì›”) | ëª©í‘œ (3ê°œì›”) | ëª©í‘œ (6ê°œì›”) | ì¸¡ì • ë°©ë²• |
|---------|-----|------|------------|------------|------------|----------|
| **ì‚¬ìš©ì** | DAU/MAU ë¹„ìœ¨ | ì¼ì¼ í™œì„± / ì›” í™œì„± | 15% | 20% | 25% | Aptabase `app_opened` ì´ë²¤íŠ¸ |
| **ì‚¬ìš©ì** | D1 ë¦¬í…ì…˜ | ê°€ì… ë‹¤ìŒ ë‚  ì¬ë°©ë¬¸ìœ¨ | 40% | 50% | 55% | Aptabase `session_start` ì´ë²¤íŠ¸ |
| **ì‚¬ìš©ì** | D7 ë¦¬í…ì…˜ | ê°€ì… 7ì¼ í›„ ì¬ë°©ë¬¸ìœ¨ | 20% | 30% | 35% | Aptabase `session_start` ì´ë²¤íŠ¸ |
| **ì‚¬ìš©ì** | D30 ë¦¬í…ì…˜ | ê°€ì… 30ì¼ í›„ ì¬ë°©ë¬¸ìœ¨ | â€” | 15% | 20% | Aptabase `session_start` ì´ë²¤íŠ¸ |
| **ì œí’ˆ** | ì£¼ê°„ ì²´í¬ì¸ ë¹ˆë„ | ì£¼ë‹¹ í‰ê·  ì²´í¬ì¸ íšŸìˆ˜ | 2.5íšŒ | 3.0íšŒ | 3.5íšŒ | Aptabase `checkin_completed` ì´ë²¤íŠ¸ |
| **ì œí’ˆ** | Weekly Active Checkin Rate | ì£¼ 3ì¼+ ì²´í¬ì¸ ì‚¬ìš©ì ë¹„ìœ¨ | 30% | 40% | 50% | Aptabase ì»¤ìŠ¤í…€ ë¶„ì„ |
| **ì œí’ˆ** | ì£¼ê°„ ë¦¬í¬íŠ¸ ì¡°íšŒìœ¨ | ë¦¬í¬íŠ¸ íƒ­ ì§„ì… / WAU | 20% | 30% | 40% | Aptabase `report_viewed` ì´ë²¤íŠ¸ |
| **ì œí’ˆ** | í‰ê·  ë‹¬ì„±ë¥  | ì „ì²´ ì‚¬ìš©ìì˜ ì¼ì¼ ë‹¬ì„±ë¥  í‰ê·  | 50% | 60% | 65% | DB: AVG(daily_plans.completion_rate) |
| **ë¹„ì¦ˆë‹ˆìŠ¤** | ìœ ë£Œ ì „í™˜ìœ¨ | ìœ ë£Œ ì‚¬ìš©ì / ì´ ì‚¬ìš©ì | 1% | 3% | 4% | RevenueCat Dashboard |
| **ë¹„ì¦ˆë‹ˆìŠ¤** | MRR (ì›” ë°˜ë³µ ë§¤ì¶œ) | ì›”ê°„ êµ¬ë… ë§¤ì¶œ | â€” | â‚©300ë§Œ | â‚©800ë§Œ | RevenueCat Dashboard |
| **ë¹„ì¦ˆë‹ˆìŠ¤** | ì•± ìŠ¤í† ì–´ í‰ì  | App Store + Play Store í‰ê·  | 4.0+ | 4.3+ | 4.5+ | ì•± ìŠ¤í† ì–´ ëŒ€ì‹œë³´ë“œ |

### 15-3. Aptabase ì´ë²¤íŠ¸ ì„¤ê³„

| ì´ë²¤íŠ¸ëª… | íŠ¸ë¦¬ê±° ì‹œì  | ì†ì„± (properties) |
|---------|-----------|------------------|
| `app_opened` | ì•± í¬ê·¸ë¼ìš´ë“œ ì§„ì… | `source`: "cold" \| "warm" |
| `session_start` | ì•± í™œì„±í™” | `days_since_install`: ìˆ«ì |
| `login_completed` | ì†Œì…œ ë¡œê·¸ì¸ ì„±ê³µ | `provider`: "kakao" \| "google" \| "apple" |
| `onboarding_completed` | ì˜¨ë³´ë”© ì™„ë£Œ | `categories_selected`: ìˆ«ì, `skipped_steps`: ìˆ«ì |
| `checkin_completed` | ì²´í¬ì¸ ì €ì¥ | `energy_level`: 1-5, `mood`: string, `sleep_hours`: ìˆ«ì |
| `checkin_skipped` | ì²´í¬ì¸ ì—†ì´ í”Œëœ ìƒì„± | â€” |
| `plan_generated` | ì ì‘í˜• í”Œëœ ìƒì„± | `routines_count`: ìˆ«ì, `energy_used`: 1-5 |
| `plan_item_completed` | ë£¨í‹´ ì™„ë£Œ ì²´í¬ | `routine_category`: string |
| `plan_completed` | ëª¨ë“  ë£¨í‹´ ì™„ë£Œ (100%) | `total_items`: ìˆ«ì |
| `report_viewed` | ì£¼ê°„ ë¦¬í¬íŠ¸ íƒ­ ì§„ì… | `data_days`: ìˆ«ì |
| `routine_created` | ì»¤ìŠ¤í…€ ë£¨í‹´ ìƒì„± | `category`: string |
| `premium_upsell_shown` | í”„ë¦¬ë¯¸ì—„ ëª¨ë‹¬ í‘œì‹œ | `trigger`: "routine_limit" \| "insight" \| "settings" |
| `premium_upsell_converted` | í”„ë¦¬ë¯¸ì—„ ëª¨ë‹¬ì—ì„œ êµ¬ë… ì‹œì‘ | `plan`: "monthly" \| "yearly" |
| `subscription_started` | êµ¬ë… ê²°ì œ ì„±ê³µ | `plan`: "monthly" \| "yearly" |
| `reflection_created` | ì €ë… íšŒê³  ì‘ì„± | `content_length`: ìˆ«ì |

### 15-4. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

| ëŒ€ì‹œë³´ë“œ | ë„êµ¬ | ì£¼ìš” ì§€í‘œ |
|---------|------|----------|
| ì‚¬ìš©ì í–‰ë™ | Aptabase | DAU, ë¦¬í…ì…˜, ì²´í¬ì¸ ë¹ˆë„, í¼ë„ |
| ìˆ˜ìµ | RevenueCat | MRR, ì „í™˜ìœ¨, churn rate, LTV |
| ì¸í”„ë¼ | Supabase Dashboard | ë™ì‹œ ì ‘ì†, DB í¬ê¸°, Edge Function í˜¸ì¶œ ìˆ˜ |
| ì•± í’ˆì§ˆ | App Store Connect / Google Play Console | í¬ë˜ì‹œìœ¨, ANRë¥ , í‰ì /ë¦¬ë·° |

---

## 16. Glossary (ìš©ì–´ ì‚¬ì „)

| ìš©ì–´ | ì •ì˜ |
|------|------|
| ì²´í¬ì¸ (Check-in) | ì‚¬ìš©ìê°€ ë§¤ì¼ ì•„ì¹¨ ì…ë ¥í•˜ëŠ” ì»¨ë””ì…˜ ë°ì´í„°(ì—ë„ˆì§€ ë ˆë²¨Â·ìˆ˜ë©´ ì‹œê°„Â·ê¸°ë¶„). 30ì´ˆ ì´ë‚´ ì™„ë£Œë¥¼ ëª©í‘œë¡œ ì„¤ê³„ëœ ë°ì¼ë¦¬ì…€í”„ì˜ í•µì‹¬ ì…ë ¥ ë‹¨ìœ„ |
| ì—ë„ˆì§€ ë ˆë²¨ (Energy Level) | ì˜¤ëŠ˜ì˜ ì‹ ì²´Â·ì •ì‹  ì—ë„ˆì§€ë¥¼ 1~5 ì •ìˆ˜ë¡œ í‘œí˜„í•œ ìê°€ í‰ê°€ ìˆ˜ì¹˜. 1=ë§¤ìš° ë‚®ìŒ, 5=ë§¤ìš° ë†’ìŒ. ì ì‘í˜• í”Œëœ ìƒì„±ì˜ í•µì‹¬ íŒŒë¼ë¯¸í„° |
| ì ì‘í˜• í”Œëœ (Adaptive Plan) | ì²´í¬ì¸ ê²°ê³¼ì— ê¸°ë°˜í•˜ì—¬ ë£¨í‹´ ë‚œì´ë„ì™€ ê°œìˆ˜ë¥¼ ìë™ ì¡°ì ˆí•œ ì˜¤ëŠ˜ì˜ í–‰ë™ ê³„íš. ì—ë„ˆì§€ ë‚®ì€ ë‚ ì—ëŠ” 1~2ê°œ, ë†’ì€ ë‚ ì—ëŠ” 3~5ê°œ ë£¨í‹´ì„ ë°°ì¹˜ |
| ë£¨í‹´ í’€ (Routine Pool) | ì‚¬ìš©ìê°€ ë“±ë¡í•œ ì „ì²´ ë£¨í‹´ ëª©ë¡. ê¸°ë³¸ í…œí”Œë¦¿ ë£¨í‹´ê³¼ ì»¤ìŠ¤í…€ ë£¨í‹´ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, ì ì‘í˜• í”Œëœ ìƒì„± ì‹œ ì´ í’€ì—ì„œ ì í•©í•œ ë£¨í‹´ì´ ì„ ë³„ë¨ |
| ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜ (Scoring Algorithm) | generate-plan Edge Functionì—ì„œ ê° ë£¨í‹´ì˜ ì í•©ë„ë¥¼ ê³„ì‚°í•˜ëŠ” ê·œì¹™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜. energy_match_bonus, mood_bonus, recent_completion_bonus, variety_bonus ë“±ì„ ê°€ì¤‘ í•©ì‚°í•˜ì—¬ 10~21ì  ë²”ìœ„ì˜ ì ìˆ˜ ë¶€ì—¬ |
| ì»¨ë””ì…˜ ì ì‘ (Condition Adaptation) | ë°ì¼ë¦¬ì…€í”„ì˜ í•µì‹¬ ì°¨ë³„í™” ê°œë…. ì‚¬ìš©ìì˜ ë‹¹ì¼ ì—ë„ˆì§€Â·ìˆ˜ë©´Â·ê¸°ë¶„ ìƒíƒœë¥¼ ì¸ì‹í•˜ì—¬ ë£¨í‹´ì˜ ë‚œì´ë„Â·ê°œìˆ˜Â·ì¢…ë¥˜ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì ˆí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ |
| Server Wins ì •ì±… | ì˜¤í”„ë¼ì¸/ì˜¨ë¼ì¸ ë°ì´í„° ì¶©ëŒ ì‹œ ì„œë²„ ë°ì´í„°ë¥¼ ìµœì¢… ê¶Œìœ„(Source of Truth)ë¡œ ì±„íƒí•˜ëŠ” ë™ê¸°í™” ì •ì±…. 1ì¸ ì‚¬ìš© ì•±ì—ì„œ ë©€í‹° ë””ë°”ì´ìŠ¤ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ë‚®ê³  ë¡œì§ ë‹¨ìˆœí™”ì— ìœ ë¦¬ |
| Sync Queue (ë™ê¸°í™” í) | ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œ ë°œìƒí•œ CRUD ì‘ì—…ì„ ë¡œì»¬(op-sqlite)ì— ì„ì‹œ ì €ì¥í•˜ê³ , ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ì„œë²„ì— ìˆœì°¨ ì „ì†¡í•˜ëŠ” í êµ¬ì¡°. ì¬ì‹œë„ 5íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„(1sâ†’2sâ†’4sâ†’8sâ†’16s) ì ìš© |
| Progressive Paywall | í•µì‹¬ ê¸°ëŠ¥ì„ ë¬´ë£Œë¡œ ì œê³µí•˜ì—¬ ì‚¬ìš©ìê°€ ê°€ì¹˜ë¥¼ ì²´ê°í•œ í›„ ìì—°ìŠ¤ëŸ½ê²Œ ìœ ë£Œ ì „í™˜í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ìˆ˜ìµí™” ì „ëµ. ë°ì¼ë¦¬ì…€í”„ì—ì„œëŠ” ì²´í¬ì¸â†’í”Œëœâ†’ì£¼ê°„ ë¦¬í¬íŠ¸ê°€ ë¬´ë£Œ, ë¬´ì œí•œ ë£¨í‹´Â·AI ì¸ì‚¬ì´íŠ¸Â·ì›”ê°„ íŠ¸ë Œë“œê°€ ìœ ë£Œ |
| Weekly Active Checkin Rate | ì£¼ 3ì¼ ì´ìƒ ì²´í¬ì¸í•˜ëŠ” ì‚¬ìš©ìì˜ ë¹„ìœ¨. ë°ì¼ë¦¬ì…€í”„ì˜ North Star Metricìœ¼ë¡œ, í•µì‹¬ ê°€ì¹˜ ì²´ê°ë„ì™€ ë¦¬í…ì…˜ì„ ì§ì ‘ ë°˜ì˜í•˜ëŠ” ì§€í‘œ |
| RLS (Row Level Security) | Supabase(PostgreSQL)ì—ì„œ í…Œì´ë¸” í–‰ ë‹¨ìœ„ë¡œ ì ‘ê·¼ ê¶Œí•œì„ ì œì–´í•˜ëŠ” ë³´ì•ˆ ì •ì±…. `auth.uid() = user_id` ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ìë³„ ë°ì´í„° ì™„ì „ ê²©ë¦¬ë¥¼ êµ¬í˜„ |
| Edge Function | Supabaseì—ì„œ Deno ëŸ°íƒ€ì„ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜. generate-plan(ì ì‘í˜• í”Œëœ ìƒì„±), delete-account(ê³„ì • ì‚­ì œ) ë“± ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬ |
| RPC (Remote Procedure Call) | Supabaseì—ì„œ PostgreSQL Functionì„ REST APIë¡œ í˜¸ì¶œí•˜ëŠ” ë°©ì‹. get_weekly_stats, get_user_routine_count ë“± DB ë ˆë²¨ ì—°ì‚°ì„ PostgREST `/rpc/` ê²½ë¡œë¡œ ì‹¤í–‰ |
| EAS Build | Expo Application Servicesì˜ í´ë¼ìš°ë“œ ë¹Œë“œ ì„œë¹„ìŠ¤. Windows ê°œë°œ í™˜ê²½ì—ì„œë„ iOS ë„¤ì´í‹°ë¸Œ ë¹Œë“œë¥¼ ì›ê²©ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” CI/CD ë„êµ¬ |
| ë ˆë””ì½”ì–´ (Redycore) | íŠ¸ë Œë“œ ì½”ë¦¬ì•„ 2026ì—ì„œ ì œì‹œëœ í‚¤ì›Œë“œ. "ì²´ê³„ì  ìê¸°ê´€ë¦¬ ì‹œìŠ¤í…œ"ì— ëŒ€í•œ ìˆ˜ìš” ì¦ê°€ íŠ¸ë Œë“œë¥¼ ì˜ë¯¸í•˜ë©°, ë°ì¼ë¦¬ì…€í”„ì˜ ì‹œì¥ ìˆ˜ìš” ê·¼ê±° |
| ì‘ì‹¬ì‚¼ì¼ | ìƒˆ ê³„íšì„ ì‹œì‘í•œ ì§€ 3ì¼ ë§Œì— í¬ê¸°í•˜ëŠ” í˜„ìƒì˜ ê´€ìš© í‘œí˜„. í•œêµ­ ì„±ì¸ 50%ê°€ 1ì£¼ì¼ ë‚´ ìƒˆ ê³„íšì„ í¬ê¸°í•˜ë©°, ë°ì¼ë¦¬ì…€í”„ê°€ í•´ê²°í•˜ë ¤ëŠ” í•µì‹¬ Pain Point |
